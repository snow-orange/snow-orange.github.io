(function(t){function e(e){for(var a,s,o=e[0],l=e[1],f=e[2],u=0,h=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);A&&A(e);while(h.length)h.shift()();return n.push.apply(n,f||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],a=!0,o=1;o<r.length;o++){var l=r[o];0!==i[l]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=r[0]))}return t}var a={},i={app:0},n=[];function s(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=a,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(r,a,function(e){return t[e]}.bind(null,a));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var f=0;f<o.length;f++)e(o[f]);var A=l;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("85ec"),i=r.n(a);i.a},"18c3":function(t,e,r){"use strict";var a=r("b9b9"),i=r.n(a);i.a},"29b4":function(t,e,r){},"3cbe":function(t,e,r){},"45e7":function(t,e,r){"use strict";var a=r("b21e"),i=r.n(a);i.a},"4b57":function(t,e,r){"use strict";var a=r("4efc"),i=r.n(a);i.a},"4e6b":function(t,e){t.exports="data:audio/mpeg;base64,SUQzBAAAAAAAZ1RDT04AAAAHAAADT3RoZXIAUFJJVgAAABEAAEF2ZXJhZ2VMZXZlbAA/FwAAUFJJVgAAAA4AAFBlYWtWYWx1ZQCdWAAAVFNTRQAAAA8AAANMYXZmNTguMjAuMTAwAAAAAAAAAAAAAAD/+3DAAAAAAAAAAAAAAAAAAAAAAABJbmZvAAAADwAAAAgAAAsFADg4ODg4ODg4ODg4OFVVVVVVVVVVVVVVVXFxcXFxcXFxcXFxcXGOjo6Ojo6Ojo6Ojo6qqqqqqqqqqqqqqqqqx8fHx8fHx8fHx8fH4+Pj4+Pj4+Pj4+Pj4////////////////wAAAABMYXZmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALBU2MRRkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//pxwD8bAAALpCk1R6RkqZoSJ/T0pSx+qVQCQk3SsE3LkLgZDaCZOkKydIAEUW8AzgMjwMsIj+fh49GkEB/D4HT8/MP493/vBw/3274nBw/3yZv3g4fg8Rm8Tg4f7xGb94OH++3f3g4fg8Rm8Tg4fg8Rm8SA40UkikiHIABSWJPSFxRqweyq2URLo4ihcTjgJidEOZE5i7YbRisu/rNhc/NCAcEx5hgoXJ5ij8+WJJF5RU1BpYxsRAyjJw7/+o8JVHiyzoinhKo8IlhoRKPCVR4RLOiJR4kp5G5PD229223+AAAJ4+Csqbhp3JwilCli/BsgJYOI5h1H42DpGaPSTNQqct0BVKIxCwsC4gmCxljKJOljKolQ5sRk2Sg5S7neWIfSOYD7Nw5Fej2A8yxIaZ0qymjqG8W5i//6c8AKyy8AC+SRSbT3gCnNkylrOYACWIOtPEsyJROAwAAAC2bZgwNN4YoERxaqKWtmeclFZvgpGHw+pm65m0rgYfmUjYKjZnj+Hl6/i+yt0P1ZRGYjXTMYoX/zle/xq2qdWoKhIhhgIXOTcXlEa3WyjrTpbm4am9PXiGHfo60cvW/jwsN+IfZTd/6fIQJcl1u9AAAEChjIhiwsGQEYBBp4RVmDwOLCBpKcgEAC/V9w03RS4uEXOWi013YZabRW6N9rcOTDvWo69b+q2xKiwflo9p3YCsvcxGHXig2MPTKY64TA4cfh400UTQEUuymMnkvVHGbeF8odlOxQCE/38ACAUsipmwUdBBldDHb8YciGxggKGFwGGBSN5tAKcy1mDhSUoQBxCYU5XpAHIKiymS5cYPdBRcRsci7V//pxwBW0VwAN1JNRvcwAKbaSaaXNvS6qxWHUKQZBxleYYVxfjWFqVbx3OPpRD7OAZaEi4F+NAQmQhqMVJrlvbyHpw6IWnyACAG5/wACICPGlBAqewAAJYBhktOHKS4dvNIyGdKaPQUFM5c1iSqMWzMPs5XQcemvADPoMZS/CrEk2tF5TQdYVnzwpAWmvvopfLkyGtwZDi8XgqRdlC/G4M5bZtIda9A1OwBw1KHlVzNvLPO/Ai1XDuEEkQQ3I3KwAA+RcdhgsJCAhi0SyUtwhCaD2d04IExhmACLUgRfKmCs5gkDLrhCGSK4iAA0AG+fVvVrIUoUlsQgwuNSPS1tfZEOnqjM6rfRlWBqqHIaDh1lrhrWS2V0qBBozjREwqU/TyoqDshUIMPEZCzwjVYEgDQNSpajeq61JIP/6c8Ccr3mADliRTY5nCXn3Eul1rmUuA7bZIwAAdogeSPI8lqZAVTYSSu4LiEQmZEpnZA6ZzmhgMy1XxEGEIImuvYuynyW+YEm8AQUOHi47olEwEQQoBRhZRb1A5RpuwhKXLXIqyPlUi9hoo4RH0QibRH9BIwJNsQId5TFbYKEXKdWGyTLwMMJTrETJRaZBIEmgU4/+AAwEdAu0HFgIdAW/STQnNwTtR9NPyj1zNlqxyza0kNkTWIpBLkSmRXMCAS3xdJrr9QAWhEDEKhpiRwRYrcoCTBQMFrpcKYEKmGIfg5EoUfSOABSUQ6VAQiy8gJWj4gmL0sxLXorTZhIX1L+D31mLzUtyr4cJKEmOf8AAGCPNApl0pcs3io0phyJTdUEohHGPgBkMvQ3fEAAEZxoIoukcqWbT+ToY//pxwBWckoAPVJFLrG8JeeQS6HGN4S4aCcaXIPkyniBrASBBohWo4BDF1mToCVkLaYIakg0I0lG0HFDhKmJwOSqFpghctsVUHGT2gEZAxOVkyIDcwFHHDoCnE0SCkjScn/AALVd0ZNEgSp0RUocEKpowclQMEFIEGtw8sBQhgsmgHVjSIW4hA3yfaJKSpfFLdDZpTP2tAxCJyQiJPUmS9SFD9NJX8UdVVQGwt0VIQO5SRTA2arEZonqxsCiRjCAw24wIAgBCGpHI4pnsFsF8Cjbjcn/aACkL+TEZUWYQAMcZpwu8LGb9HMuqmkMDUISLYebiuSYChQjW0gF2pPLUTWYOnaw15aRN4Iso8XVStdl/0oQaIGHLyIaIAlBlPs2VtVkelMoUAmczVxkVmrptNnLYsrNQ0CC1wv/6c8B+OKmADsiTQYxrCXnJEmhxjGEvpiZSszBk3tgnTxGBgfAYER+GYf+uBzW/7a7bVsAM4I0EiBzA3hchxEGFeC9CQktRraK6AOQB6EZb3FFCTA5hxOatXhuhqRwuldHJSJqLi7TqyT4FMDeOJSqk7QvQkJYWpRL4koOUhT9QvB9BHhMlpSuRuiEiGj9bEOcyUlyUV1bFhK6NBfbrF0FJTgWEVBsWBuLxUJ5uPnRfNl6brj5p//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////pxwJp+xoAP5JM/jGMJeiWVprT3vW3/////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/6c8AAn9MAGUABLgAAACAAACXAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"},"4efc":function(t,e,r){},5377:function(t,e,r){"use strict";var a=r("6d17"),i=r.n(a);i.a},"53bb":function(t,e,r){t.exports=r.p+"media/win.a5bee130.mp3"},"54e3":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("audio",{ref:"soundGoodJob"},[a("source",{attrs:{src:r("53bb"),type:"audio/mp3"}})]),a("water-drop-welcome",{directives:[{name:"show",rawName:"v-show",value:""===t.game.currentGameName,expression:"game.currentGameName===''"}],attrs:{"game-result":t.gameResult}}),t.isGameOfWater?a("water-drop-world",{on:{"game-over":t.gameOverWater}}):t.isGameOfFire?a("fireman-world",{on:{"game-over":t.gameOverFire,"refuel-tank":t.refuelWater,"cancel-game":t.restartGame}}):t.isGameVictory?a("game-victory"):t._e()],1)},n=[],s={minDrops:0,maxDrops:20,rainProbability:1.1,speed:4,worldSize:{w:640,h:640,fireH:760,buildingWindow:{w:40,h:55},fmH:800},fireGrowSpeed:.005,fireStartChance:10,windowNumber:24,firemanPos:{scale:.4,x:50},firemanSpeed:{g:25,base:275,speedToPixel:.4,timeGranuleDensity:10,timeGranule:.5},giraffeComeAfter:8},o={_victory:"victory",water:"water",fire:"fire"},l="124.191.1.147",f=(r("4160"),r("45fc"),r("159b"),new a["a"]),A=f,u={state:{game:{continueFireGame:!1,currentGameName:"",previewsGameName:"",startTime:0,totalSeconds:0,allWindows:[],totalFireValue:0,totalSprayWater:0,totalSprayWaterHit:0,totalSprayWaterHitFire:0},giraffe:{winId:-1,status:0},player:{name:"",role:"",speed:s.speed,cupVolume:0,waterAmount:0}},estartGame:function(){this.setContinueFireGame(!1),this.state.game.currentGameName="",this.state.game.previewsGameName="",this.state.game.startTime=0,this.state.game.totalSeconds=0,this.state.game.totalFireValue=0,this.state.game.totalSprayWater=0,this.state.game.totalSprayWaterHit=0,this.state.game.totalSprayWaterHitFire=0,this.state.player.role=""},checkTotalFire:function(){return this.state.game.totalFireValue<1e-6&&(this.state.game.totalFireValue=0),this.state.game.totalFireValue>0},giraffeBecomeFireman:function(){this.state.giraffe.status=3,this.state.giraffe.winId=-1},giraffeSaved:function(){this.state.giraffe.status=2},createGiraffe:function(t){if(this.state.giraffe.status>0||t<7e3)return!1;this.state.giraffe.status=1;var e=s.windowNumber/3;t%=6,t=e*Math.floor(t/2)+t%2+e-2,this.state.giraffe.winId=t},setContinueFireGame:function(t){this.state.game.continueFireGame=t,t||(this.state.giraffe.winId=-1,this.state.giraffe.status=0)},initWindowFire:function(){for(var t=Math.floor(s.windowNumber/3),e=0;e<3;e++)for(var r=0;r<t;r++){var a={id:this.state.game.allWindows.length,x:e*(s.worldSize.buildingWindow.w+15)+15,y:r*(s.worldSize.buildingWindow.h+20)+35,svgTranslate:"",randSeed:Math.floor(1e4*Math.random()),fireValue:0};a.svgTranslate=a.x+","+a.y,this.state.game.allWindows.push(a),a=null}},refreshWindowRand:function(){this.state.game.allWindows.forEach((function(t){t.randSeed=Math.floor(1e4*Math.random())}))},addFire:function(t,e){if(!(t<0||t>=this.state.game.allWindows.length)){e=e||0;var r=this.state.game.allWindows[t];return e<0&&(this.state.game.totalSprayWaterHit++,this.state.game.totalSprayWaterHitFire-=e),r.fireValue+=e,this.state.game.totalFireValue+=e,r.fireValue<0&&(this.state.game.totalFireValue-=r.fireValue,r.fireValue=0),0===r.fireValue&&r.id===this.state.giraffe.winId&&this.giraffeSaved(),this.state.game.totalFireValue<1e-6&&A.$emit("all-fire-cleaned"),r.fireValue}},setPlayer:function(t){for(var e in this.state.player)void 0!==t[e]&&(this.state.player[e]=t[e])},gameOver:function(){this.state.game.previewsGameName=this.state.game.currentGameName,this.state.game.currentGameName="",this.state.game.totalSeconds=(Date.now()-this.state.game.startTime)/1e3,this.state.game.totalSeconds=Math.round(this.state.game.totalSeconds)},gameStarted:function(t,e,r){e=!!e,r=!!r,this.state.game.previewsGameName=this.state.game.currentGameName,this.state.game.currentGameName=t,r&&(this.state.player.waterAmount=0),e&&(this.state.game.startTime=Date.now(),this.state.game.totalSeconds=0)},emptyWater:function(){this.state.player.waterAmount=0},addWater:function(t){return t<0&&this.state.game.totalSprayWater++,this.state.player.waterAmount+=t,this.state.player.waterAmount>=this.state.player.cupVolume?(this.state.player.waterAmount=this.state.player.cupVolume,1):this.state.player.waterAmount<=0?(this.state.player.waterAmount=0,-1):0},checkWaterHitWindow:function(t,e,r,a,i){var n=this;i=!!i;var o=s.worldSize.buildingWindow.w-4,l=s.worldSize.buildingWindow.h-4,f={x:0,y:0};return f.isIntersect=this.state.game.allWindows.some((function(s,A){if(i&&s.fireValue<=0&&n.state.giraffe.winId!==s.id)return!1;var u={x1:s.x+2,y1:s.y+2,x2:s.x+2+o,y2:s.y+2+l};return!(r<u.x1||a<u.y1||t>u.x2||e>u.y2)&&(f.windowInd=A,f.y=u.y1,f.x=t+(r-t)*(u.y1-e)/(a-e),f.x>u.x1&&f.x<u.x2-3||(f.x=u.x1,f.y=e+(a-e)*(u.x1-t)/(r-t),f.y>u.y1&&f.y<u.y2+3))})),f}};u.initWindowFire();var h=u,m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"water-drop-welcome"},[r("h1",[t._v("WELCOME")]),r("div",[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.name,expression:"name",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"10"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),t.visibleRoles.length>1?r("div",{staticClass:"all-roles"},t._l(t.visibleRoles,(function(e){return r("svg",{key:e.tag,attrs:{width:"120",height:"120",viewBox:"0 0 240 240"},on:{click:function(r){return t.chooseRole(e.tag)}}},[r(e.tag,{tag:"component",attrs:{"show-cup":!1,"is-moving":!1,"role-mode":"water"}}),e.tag===t.choosedRoleTag?r("g",[r("path",{attrs:{d:"M142 152 L162 182 L202 122","fill-opacity":"0",stroke:"#000000","stroke-width":"4","stroke-opacity":"0.5"}}),r("path",{attrs:{d:"M140 150 L160 180 L200 120","fill-opacity":"0",stroke:"#01ff00","stroke-width":"4"}})]):t._e()],1)})),0):t._e(),r("div",[r("button",{on:{click:t.startWaterGame}},[t._v("START")])]),t.isWaterGameFinished?r("div",{staticClass:"game-result"},[r("h1",[t._v("GOOD JOB")]),r("label",[r("span",[t._v("Time:")]),r("b",[t._v(t._s(t.gameData.game.totalSeconds)+" seconds")])]),r("label",[r("span",[t._v("Catched:")]),r("b",[t._v(t._s(t.gameResult.cupDrops)+" rain drops")])]),r("label",[r("span",[t._v("Rate:")]),r("b",[t._v(t._s(t.rate)+"%")])]),r("div",{staticClass:"next-game"},[r("button",{on:{click:t.startFireGame}},[t._v("Alarm! Help us!")])])]):t._e()])},d=[],c=(r("4de4"),r("b0c0"),r("ac1f"),r("1276"),r("bc3a")),p=r.n(c),C=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:"285",height:"200"}},[r("defs",[r("circle",{attrs:{cx:"93",cy:"77",r:"15",id:"pg-eye"}}),r("circle",{attrs:{cx:"0",cy:"0",r:"5",id:"pg-eye-ball"}},[r("animateTransform",{attrs:{id:"aniPiggyEyeScale",attributeName:"transform",type:"scale",from:"1 1",to:"1.3 0.2",dur:"0.1s",repeatCount:"2",begin:"2.2s;aniPiggyEyeScale2.end+3s"}}),r("animateTransform",{attrs:{id:"aniPiggyEyeScale2",attributeName:"transform",type:"scale",from:"1 1",to:"1.3 0.2",dur:"0.1s",begin:"aniPiggyEyeScale.end+4s"}})],1),r("path",{attrs:{d:"M164 95C167 105 158 117 144 121C130 125 116 120 113 110C110 100 119 88 133 84C148 80 161 85 164 95Z",id:"pg-nose"}}),r("path",{attrs:{d:"M46 52L66 31L20 24L46 52Z",id:"pg-ear-right"}}),r("path",{attrs:{d:"M117 28L106 2L92 26L117 28Z",id:"pg-ear-left"}}),r("path",{attrs:{d:"M136 101C137 104 136 108 134 108C131 109 129 107 128 104C127 100 128 97 130 96C133 95 135 98 136 101Z",id:"pg-nose-hole"}})]),r("g",[t.isModeFireman?r("g",{attrs:{transform:"translate(0,10)"}},[r("water-cup",{attrs:{"cup-width":90,"cup-height":110,"water-percent":t.waterPercent}})],1):t._e(),r("g",[r("animateTransform",{attrs:{id:"aniPiggyBodyScale",attributeName:"transform",type:"scale",from:"1 1",to:t.bodyScale,dur:"0.08s",begin:"1s;aniPiggyBodyScale2.end+0.14s"}}),r("animateTransform",{attrs:{id:"aniPiggyBodyScale2",attributeName:"transform",type:"scale",from:t.bodyScale,to:"1 1",dur:"0.08s",begin:"aniPiggyBodyScale.end"}}),r("path",{attrs:{d:"M18 113L2 99L20 105L18 113Z",fill:"#4747a6",stroke:"#91a3dc","stroke-width":"1","stroke-opacity":"1",id:"pg-tail"}}),r("use",{attrs:{"xlink:href":"#pg-ear-left",fill:"#afafee",stroke:"#91a3dc","stroke-width":"1","stroke-opacity":"1"}}),r("circle",{attrs:{cx:"103",cy:"108",r:"85",fill:"#a4a8e5",id:"pg-body"}}),r("circle",{attrs:{cx:"70",cy:"125",r:"25",fill:"#f47885"}}),r("text",{attrs:{"font-family":"Arial",x:"52",y:"138","font-size":"36",fill:"white"}},[t._v(t._s(t.firstCharator))]),r("use",{attrs:{"xlink:href":"#pg-ear-right",fill:"#afafee",stroke:"#91a3dc","stroke-width":"1","stroke-opacity":"1"}})],1),r("g",[r("use",{attrs:{"xlink:href":"#pg-eye",fill:"#ffffff"}}),r("use",{attrs:{"xlink:href":"#pg-eye",transform:"translate(54, -15)",fill:"#ffffff"}}),r("use",{attrs:{"xlink:href":"#pg-eye-ball",fill:"#000000",transform:"translate(98, 70)"}}),r("use",{attrs:{"xlink:href":"#pg-eye-ball",transform:"translate(150, 55)",fill:"#000000"}})]),r("g",[r("use",{attrs:{"xlink:href":"#pg-nose",fill:"#8e8e92"}}),r("use",{attrs:{"xlink:href":"#pg-nose-hole",fill:"#424282"}}),r("use",{attrs:{"xlink:href":"#pg-nose-hole",transform:"translate(15, -4)",fill:"#424282"}})])]),t.showCup&&t.isModeWater?r("g",{attrs:{transform:"translate(173,70)"}},[r("water-cup",{attrs:{"cup-width":90,"cup-height":110,"water-percent":t.waterPercent}})],1):t._e(),t.isModeFireman?r("g",[r("path",{attrs:{d:"M176.54 136C127.7 128.48 97.17 123.79 84.96 121.91C72.26 119.95 59.94 127.25 55.55 139.32C52.64 147.32 54.41 142.45 52.23 148.43C47.87 160.41 31.42 161.63 25.34 150.42C23.3 146.65 18.18 137.21 10 122.12","fill-opacity":"0",stroke:t.nozzleColor,"stroke-width":"8"}}),r("fm-nozzle",{attrs:{"svg-translate":t.nozzleTranslate,"nozzle-angle":t.nozzleAngle,"nozzle-color":t.nozzleColor}})],1):t._e()])},g=[],w=(r("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[r("rect",{staticClass:"cup-water",attrs:{x:"4",y:t.waterTop,width:t.cupWidth-4,height:t.waterHeight,"stroke-opacity":"0","fill-opacity":"0.81",fill:"#18c0f2","stroke-width":"0"}}),r("rect",{staticClass:"cup-glass",attrs:{x:"2",y:"2",rx:"7",ry:"7",width:t.cupWidth,height:t.cupHeight,"fill-opacity":"0.51",fill:"#f5f5f5",stroke:"#6f7ca4","stroke-width":"4"}})])}),y=[],x={name:"wd-cup",props:{cupWidth:{type:Number,default:86},cupHeight:{type:Number,default:110},waterPercent:{type:Number,default:10}},mounted:function(){},data:function(){return{}},computed:{waterTop:function(){return this.cupHeight-this.waterHeight},waterHeight:function(){return(this.cupHeight-4)*this.waterPercent}},methods:{}},v=x,b=(r("5377"),r("2877")),S=Object(b["a"])(v,w,y,!1,null,"6a0d1278",null),k=S.exports,z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",{attrs:{transform:t.gTransform}},[r("path",{attrs:{d:"M 0 0 L 40 7.5 L 40 12.5 L 0 20 Z",fill:t.nozzleColor,transform:t.pathTransform,stroke:"#9b9b9b","stroke-width":"2"}})])},R=[],T={name:"fm-nozzle",props:{nozzleAngle:{type:Number,default:0},svgTranslate:{type:String,default:""},nozzleColor:{type:String,default:"black"}},mounted:function(){},data:function(){return{}},computed:{pathTransform:function(){return 0===this.nozzleAngle?"":"rotate("+this.nozzleAngle+", 0, 10)"},gTransform:function(){return""===this.svgTranslate?"":"translate("+this.svgTranslate+")"}},methods:{}},M=T,P=Object(b["a"])(M,z,R,!1,null,"634030f2",null),D=P.exports,W={components:{"water-cup":k,"fm-nozzle":D},props:{isMoving:{type:Boolean,default:!0},waterAmount:{type:Number,default:0},playerName:{type:String,default:""},showCup:{type:Boolean,default:!0},roleMode:{type:String,default:"water"},nozzleAngle:{type:Number,default:0}},mounted:function(){this.isModeWater?this.$emit("report-cup",{top:this.cupTop,left:this.cupLeft,width:this.cupWidth,volume:this.cupSize}):this.isModeFireman&&this.$emit("report-fireman",{maxPower:this.maxPower,maxAngle:this.maxAngle,nozzleRoot:{x:this.nozzlePosition.x,y:this.nozzlePosition.y+10}})},data:function(){return{cupSize:20,cupTop:60,cupLeft:142,cupWidth:86,nozzleColor:"black",nozzlePosition:{x:0,y:0},maxPower:100,maxAngle:65}},computed:{waterPercent:function(){return this.waterAmount>this.cupSize?1:this.waterAmount/this.cupSize},bodyScale:function(){return this.isMoving?"1 1.03":"1 1"},firstCharator:function(){if(1===this.playerName.length)return this.playerName;var t=this.playerName;return"%E5%B0%8F"===encodeURI(t.substring(0,1))&&(t=t.substring(1)),t.substring(0,1)},cupTranslate:function(){return"translate("+this.cupLeft+", "+this.cupTop+")"},isModeWater:function(){return"water"===this.roleMode},isModeFireman:function(){return"fireman"===this.roleMode},nozzleTranslate:function(){return this.nozzlePosition.x+","+this.nozzlePosition.y}},methods:{}},L={name:"wd-role-piggy",mixins:[W],data:function(){return{cupSize:22,cupTop:70,cupLeft:175,cupWidth:86,nozzleColor:"#1661ee",nozzlePosition:{x:170,y:125},maxPower:100,maxAngle:60}},computed:{},methods:{checkPlayerName:function(){return!0}}},F=L,E=Object(b["a"])(F,C,g,!1,null,"5ffc4e58",null),_=E.exports,I=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:"267",height:"200"}},[r("defs",[r("circle",{attrs:{cx:"15",cy:"15",r:"10",id:"hs-eye",fill:"white"}}),r("circle",{attrs:{cx:"5",cy:"5",r:"4",id:"hs-eye-ball"}},[r("animateTransform",{attrs:{id:"aniHorseEyeScale",attributeName:"transform",type:"scale",from:"1 1",to:"1.3 0.2",dur:"0.1s",repeatCount:"2",begin:"1.5s;aniHorseEyeScale2.end+3s"}}),r("animateTransform",{attrs:{id:"aniHorseEyeScale2",attributeName:"transform",type:"scale",from:"1 1",to:"1.3 0.2",dur:"0.1s",begin:"aniHorseEyeScale.end+4s"}})],1),r("path",{attrs:{d:"M0 0 L7 12Z",id:"hs-foot-back",stroke:"#0f1010","stroke-width":"1"}}),r("path",{attrs:{d:"M0 0 L7 11Z",id:"hs-foot-fore",stroke:"#0f1010","stroke-width":"1"}}),r("path",{attrs:{d:"M147 136 C147 138 148 139 148 139 C150 146 150 152 148 159 C148 159 148 161 147 164 C146 163 144 163 144 163 C136 160 129 153 127 145 C127 145 127 145 127 145 L147 136Z",id:"hs-leg-fore",fill:"#296b1f"}}),r("path",{attrs:{d:"M152 123C152 149 124 170 90 170C55 170 27 149 27 123C27 97 55 76 90 76C124 76 152 97 152 123Z",id:"hs-body"}}),r("path",{attrs:{d:"M60 107C57 105 56 104 55 104C52 101 47 99 42 98C41 98 43 99 41 98C39 98 37 99 35 100C32 103 33 102 32 103C26 109 22 117 22 126C21 128 22 120 22 122C21 131 23 139 27 147C28 149 31 153 34 160L45 160C46 160 47 160 47 160C54 161 60 157 64 152C66 148 63 154 64 152C71 140 71 126 64 114C64 114 64 114 64 114L60 107Z",id:"hs-leg-back"}}),r("linearGradient",{attrs:{id:"gradientb1HrPpTo7M",gradientUnits:"userSpaceOnUse",x1:"20",y1:"20",x2:"83",y2:"34"}},[r("stop",{staticStyle:{"stop-color":"#ffffff","stop-opacity":"1"},attrs:{offset:"0%"}}),r("stop",{staticStyle:{"stop-color":"#010000","stop-opacity":"1"},attrs:{offset:"100%"}})],1)],1),r("g",{attrs:{transform:"translate(0,20)"}},[r("g",{staticClass:"hs-body"},[r("animateTransform",{attrs:{id:"aniHsBodyScale",attributeName:"transform",type:"scale",from:"1 1",to:t.bodyScale,dur:"0.08s",begin:"1s;aniHsBodyScale2.end+0.14s"}}),r("animateTransform",{attrs:{id:"aniHsBodyScale2",attributeName:"transform",type:"scale",from:t.bodyScale,to:"1 1",dur:"0.08s",begin:"aniHsBodyScale.end"}}),r("path",{attrs:{d:"M34 106C32 104 31 103 30 102C27 99 22 98 18 100C17 100 16 101 14 102L8 113L2 92C3 91 3 90 3 90C6 85 11 81 16 80C17 80 12 81 13 81C17 80 21 81 24 84C26 87 31 92 40 101L34 106Z",id:"hs-tail"}}),r("use",{attrs:{"xlink:href":"#hs-foot-back",transform:"translate(56, 157)"}}),r("use",{attrs:{"xlink:href":"#hs-foot-back",transform:"translate(35, 159)"}}),r("use",{attrs:{"xlink:href":"#hs-foot-fore",transform:"translate(146, 162)"}}),r("use",{attrs:{"xlink:href":"#hs-foot-fore",transform:"translate(126, 171)"}}),r("use",{attrs:{"xlink:href":"#hs-leg-fore"}}),r("use",{attrs:{"xlink:href":"#hs-body",opacity:"1",fill:"#308823","fill-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#hs-leg-fore",transform:"translate(-20, 10)"}}),r("use",{attrs:{"xlink:href":"#hs-leg-back",opacity:"1",fill:"#296b1f","fill-opacity":"1"}}),r("path",{attrs:{d:"M101 81C94 83 89 85 87 86C85 87 82 87 80 86C78 85 84 87 84 87C76 84 67 82 58 82C58 82 63 82 61 82C57 82 53 81 49 80C47 79 42 78 35 75C36 74 37 74 38 74C42 72 45 70 48 68C49 68 49 67 50 67C42 63 38 61 36 61C31 58 26 54 24 49C23 48 23 47 21 44C22 44 22 44 22 44C31 48 40 48 49 46C49 46 51 45 54 44C50 43 47 42 46 41C38 38 31 32 28 24C27 21 24 15 20 6C30 8 36 10 38 11C48 13 58 13 68 10C71 9 65 11 68 10C78 7 90 11 95 21C97 23 100 30 106 40L101 81Z",id:"hs-hair",fill:"url(#gradientb1HrPpTo7M)",stroke:"#959595","stroke-width":"1"}}),r("path",{attrs:{d:"M117 92L82 90L86 60L117 92Z",id:"hs-neck",fill:"#33a023"}}),r("circle",{attrs:{cx:"100",cy:"124",r:"20",fill:"#92da87"}}),r("text",{attrs:{"font-family":"Arial",x:"88",y:"132","font-size":"24",fill:"white"}},[t._v(t._s(t.firstCharator))])],1),r("g",{staticClass:"hs-head",attrs:{transform:"translate(3,-3)"}},[r("path",{attrs:{d:"M125 45L109 24L109 42L125 45Z",id:"hs-ear-left",fill:"#3d65b7",stroke:"#000000","stroke-width":"1"}}),r("path",{attrs:{d:"M135 111C133 110 131 109 131 109C129 107 127 106 126 104C125 102 127 105 127 105C122 98 115 93 106 93C103 93 108 93 105 93C96 93 88 87 85 79C84 78 84 77 83 76C83 71 83 69 83 67C83 61 86 54 91 49C92 48 94 46 97 42C104 41 108 40 109 40C116 39 122 41 127 46C129 49 127 47 128 49C135 57 140 66 145 75C147 78 147 80 150 85C153 90 152 97 148 101C148 102 146 104 143 108L135 111Z",id:"hs-face",fill:"#92da87",stroke:"#33a023","stroke-width":"1"}}),r("path",{attrs:{d:"M86 56L86 30L98 50L86 56Z",id:"hs-ear-right",fill:"#3d65b7",stroke:"#000000","stroke-width":"1"}}),r("use",{attrs:{"xlink:href":"#hs-eye",transform:"translate(90,50)"}}),r("use",{attrs:{"xlink:href":"#hs-eye-ball",transform:"translate(103,57)"}}),r("use",{attrs:{"xlink:href":"#hs-eye",transform:"translate(116,45),scale(0.9)"}}),r("use",{attrs:{"xlink:href":"#hs-eye-ball",transform:"translate(125,51),scale(0.9)"}})])]),t.showCup&&t.isModeWater?r("g",{attrs:{transform:"translate(140,60)"}},[r("water-cup",{attrs:{"cup-width":90,"cup-height":110,"water-percent":t.waterPercent}})],1):t._e(),t.isModeFireman?r("g",{attrs:{transform:"translate(0,40)"}},[r("water-cup",{attrs:{"cup-width":90,"cup-height":110,"water-percent":t.waterPercent}})],1):t._e(),t.isModeFireman?r("g",[r("path",{attrs:{d:"M139.54 117C107.23 121.92 87.04 124.99 78.96 126.22C65.9 128.21 55.56 138.31 53.27 151.32C52.22 157.32 52.85 153.73 51.79 159.78C50.24 168.55 39.29 171.73 33.3 165.14C30.99 162.6 25.23 156.26 16 146.12","fill-opacity":"0",stroke:t.nozzleColor,"stroke-width":"8"}}),r("fm-nozzle",{attrs:{"svg-translate":t.nozzleTranslate,"nozzle-angle":t.nozzleAngle,"nozzle-color":t.nozzleColor}})],1):t._e()])},G=[],O={name:"wd-role-horse",mixins:[W],data:function(){return{cupSize:20,cupTop:60,cupLeft:142,cupWidth:86,nozzleColor:"#e7e945",nozzlePosition:{x:133,y:108},maxPower:100,maxAngle:60}},computed:{},methods:{checkPlayerName:function(t){return"梅酱"===t},isSecretRole:function(){return!0}}},N=O,B=Object(b["a"])(N,I,G,!1,null,"474c9273",null),V=B.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:"277",height:"200"}},[r("defs",[r("g",{attrs:{id:"rb-eye"}},[r("circle",{attrs:{cx:"0",cy:"0",r:"10",fill:"#141414"}}),r("circle",{attrs:{cx:"-2",cy:"-2",r:"4",fill:"white"}}),r("circle",{attrs:{cx:"-2",cy:"5",r:"1.5",fill:"white"}}),r("animateTransform",{attrs:{id:"aniRbEyeScale",attributeName:"transform",type:"scale",from:"1 1",to:"1 0.2",dur:"0.1s",repeatCount:"2",begin:"0.7s;aniRbEyeScale2.end+3s"}}),r("animateTransform",{attrs:{id:"aniRbEyeScale2",attributeName:"transform",type:"scale",from:"1 1",to:"1 0.2",dur:"0.1s",begin:"aniRbEyeScale.end+4s"}})],1),r("path",{attrs:{d:"M117 119.14C116.82 121.42 116.71 122.85 116.67 123.41C116.41 126.76 113.63 129.34 110.28 129.35C109.39 129.35 111.25 129.35 110.01 129.35C107.39 129.36 104.91 128.14 103.32 126.05C102.98 125.61 102.14 124.51 100.8 122.75C100.96 124.31 101.07 125.29 101.11 125.68C101.44 128.79 99.33 131.63 96.27 132.22C95.31 132.4 95.04 132.46 93.37 132.78C92.16 133.01 90.91 132.71 89.94 131.96C89.35 131.51 88.83 131.1 88.16 130.59C87.4 130.01 86.8 129.23 86.41 128.35C86.2 127.86 85.66 126.64 84.81 124.69",id:"rb-mouth"}}),r("path",{attrs:{d:"M52.69 187.89C52.69 187.89 52.69 187.89 52.69 187.89C49.82 191.09 51.69 196.2 55.95 196.79C56.19 196.82 54.27 196.56 56.34 196.85C56.89 196.92 57.43 197.09 57.93 197.34C59.79 198.27 57.78 197.26 57.93 197.34C62.71 199.73 68.48 197.07 69.77 191.87C69.81 191.72 69.9 191.32 70.06 190.7C76.02 191.82 79.75 192.52 81.24 192.8C93.16 195.04 105.45 194.28 117.01 190.6C117.54 190.43 118.88 190 121.02 189.32C121.13 189.58 121.2 189.74 121.23 189.81C122.5 192.83 125.24 194.98 128.48 195.5C129.36 195.64 130.62 195.84 132.45 196.13C132.76 196.18 133.06 196.13 133.34 195.99C135.27 194.99 133.03 196.15 133.06 196.14C138.1 193.53 139.33 186.86 135.54 182.63C135.54 182.63 135.54 182.63 135.54 182.63C135.77 182.48 135.91 182.39 135.97 182.35C141.87 178.54 146.56 173.12 149.51 166.75C151.4 162.65 149.55 166.66 150.69 164.2C156.07 152.55 157.69 139.5 155.3 126.89C154.9 124.75 155.74 129.19 154.93 124.91C153.84 119.12 152.03 113.49 149.56 108.14C148.95 106.82 147.43 103.53 145 98.27C142.49 95.21 140.93 93.31 140.3 92.54C133.6 84.38 124.53 78.51 114.34 75.73C113.99 75.63 113.09 75.39 111.67 75L120.06 61.23C122.88 54.64 124.64 50.52 125.34 48.88C128.41 41.72 129.74 33.94 129.24 26.17C129.11 24.19 129.15 24.81 128.94 21.52C128.74 18.4 126.51 15.78 123.45 15.1C121.95 14.76 124.33 15.29 123.27 15.05C118.76 14.04 114.08 15.64 111.13 19.2C109.9 20.68 110.47 20 109.1 21.65C106.4 24.91 104.38 28.69 103.18 32.75C102.06 36.52 103.01 33.31 102.52 34.99C99.25 46.02 97.3 57.4 96.69 68.89C96.66 69.44 96.59 70.81 96.47 73.01C94.79 72.88 93.74 72.8 93.32 72.77C85.24 72.15 77.11 73.11 69.39 75.6C69.04 75.72 68.15 76 66.72 76.46C64.77 66.17 63.55 59.74 63.06 57.16C61.64 49.67 59.61 42.3 57 35.13C56.48 33.71 57.05 35.26 56.08 32.59C54.98 29.56 53.27 26.78 51.07 24.42C50.37 23.66 54.16 27.74 54.1 27.67C49.98 23.25 44.03 20.99 38.01 21.56C37.75 21.58 37.09 21.64 36.04 21.74C34.97 22.65 34.3 23.22 34.03 23.44C29.41 27.35 27.47 33.58 29.06 39.42C29.81 42.18 29.9 42.51 30.77 45.68C32.13 50.69 34.3 55.45 37.18 59.78C39.42 63.13 45 71.51 53.95 84.93C50.22 87.39 47.89 88.93 46.95 89.54C41.34 93.25 36.85 98.41 33.97 104.48C31.81 109.02 32.95 106.63 31.59 109.48C26.11 121.01 24.22 133.91 26.14 146.53C26.56 149.27 25.93 145.12 26.62 149.61C27.68 156.6 30.31 163.26 34.29 169.09C35.2 170.42 37.47 173.74 41.09 179.05L52.69 187.89Z",id:"rb-body"}}),r("ellipse",{attrs:{id:"rb-face-red",cx:"0",cy:"0",rx:"13",ry:"4",fill:"#e6b2a0","stroke-width":"0"}}),r("path",{attrs:{d:"M69.66 148.86C72.98 149.47 75.05 149.85 75.88 150C79.29 150.63 82.1 153.05 83.23 156.33C83.52 157.15 82.89 155.35 83.27 156.43C84.08 158.79 83.19 161.4 81.11 162.77C79.65 163.73 81.15 162.74 80.28 163.32C76.24 165.97 71.15 166.42 66.72 164.52C66.37 164.37 65.5 164 64.12 163.4",id:"rb-hand-right"}}),r("path",{attrs:{d:"M136.5 132.86C139.7 133.45 141.7 133.82 142.5 133.97C145.84 134.59 148.59 136.96 149.69 140.18C149.96 140.99 149.36 139.22 149.72 140.28C150.51 142.59 149.64 145.15 147.6 146.51C146.19 147.44 147.69 146.44 146.85 147C142.91 149.61 137.93 150.05 133.59 148.18C133.26 148.04 132.43 147.68 131.11 147.11",id:"rb-hand-left"}}),r("path",{attrs:{d:"M58.73 70.2C57.61 60.57 56.91 54.55 56.62 52.14C56.47 50.85 56.2 49.57 55.82 48.32C55.32 46.7 54.07 42.64 52.06 36.13C50.39 33.8 49.35 32.34 48.93 31.76C46.9 28.93 43.43 27.53 40.01 28.15C39.28 28.28 43.81 27.46 43.36 27.54C39.16 28.3 35.85 31.55 35.01 35.74C34.89 36.35 35.92 31.19 35.8 31.79C34.89 36.35 35.4 41.08 37.27 45.34C38.36 47.84 40.52 52.75 42.05 56.24C42.5 57.27 43.09 58.24 43.81 59.12C45.27 60.9 48.91 65.35 54.73 72.47L58.73 70.2Z",id:"rb-ear-left-inner"}}),r("path",{attrs:{d:"M108.07 70C110.31 66.5 111.71 64.31 112.27 63.44C115.85 57.82 118.97 51.92 121.57 45.78C121.78 45.29 122.3 44.07 123.13 42.1C123.88 38.17 124.35 35.7 124.54 34.72C125.24 31.03 125.18 27.23 124.37 23.57C124.06 22.19 124.61 24.68 124.37 23.57C123.62 20.21 119.76 18.62 116.87 20.47C115.66 21.24 118.06 19.71 116.87 20.47C112.98 22.96 110.12 26.75 108.81 31.17C108.05 33.75 107.36 36.08 106.49 39.02C105.5 42.36 104.8 45.78 104.4 49.25C104.11 51.74 103.39 57.99 102.24 67.97L108.07 70Z",id:"rb-ear-right-inner"}})]),r("g",[r("animateTransform",{attrs:{id:"aniRbBodyScale",attributeName:"transform",type:"scale",from:"1 1",to:t.bodyScale,dur:"0.08s",begin:"1s;aniRbBodyScale2.end+0.14s"}}),r("animateTransform",{attrs:{id:"aniRbBodyScale2",attributeName:"transform",type:"scale",from:t.bodyScale,to:"1 1",dur:"0.08s",begin:"aniRbBodyScale.end"}}),r("ellipse",{attrs:{id:"rb-tail",cx:"34",cy:"175",rx:"20",ry:"11",fill:"#ffffff",stroke:"#4a3939","stroke-width":"2"}}),t.isModeFireman?r("g",{attrs:{transform:"translate(0,60)"}},[r("water-cup",{attrs:{"cup-width":80,"cup-height":100,"water-percent":t.waterPercent}})],1):t._e(),r("use",{attrs:{"xlink:href":"#rb-body",fill:"#ffffff",stroke:"#4a3939","stroke-width":"2"}}),r("use",{attrs:{"xlink:href":"#rb-ear-left-inner",fill:"#d6aeaa"}}),r("use",{attrs:{"xlink:href":"#rb-ear-right-inner",fill:"#d6aeaa"}}),r("use",{attrs:{"xlink:href":"#rb-hand-left","fill-opacity":"0",stroke:"#4a3939","stroke-width":"2"}}),r("circle",{attrs:{cx:"109",cy:"164",r:"20",fill:"#f47885"}}),r("text",{attrs:{"font-family":"Arial",x:"97",y:"172","font-size":"24",fill:"white"}},[t._v(t._s(t.firstCharator))]),r("use",{attrs:{"xlink:href":"#rb-hand-right","fill-opacity":"0",stroke:"#4a3939","stroke-width":"2"}})],1),r("use",{attrs:{"xlink:href":"#rb-mouth","fill-opacity":"0",stroke:"#4a3939","stroke-width":"2"}}),r("use",{attrs:{"xlink:href":"#rb-face-red",transform:"rotate(-10) translate(49,132)"}}),r("use",{attrs:{"xlink:href":"#rb-face-red",transform:"rotate(-10) translate(101,129)"}}),r("use",{attrs:{"xlink:href":"#rb-eye",transform:"translate(74,105)"}}),r("use",{attrs:{"xlink:href":"#rb-eye",transform:"translate(115,96)"}}),t.showCup&&t.isModeWater?r("g",{attrs:{transform:"translate(140,60)"}},[r("water-cup",{attrs:{"cup-width":80,"cup-height":100,"water-percent":t.waterPercent}})],1):t._e(),t.isModeFireman?r("g",[r("path",{attrs:{d:"M149.63 138.93C125.49 145.13 110.41 149 104.38 150.55C90.35 154.15 77.5 161.36 67.11 171.46C62.63 175.81 64.9 173.61 60.38 178C51.86 186.29 38.14 185.74 30.3 176.81C27.87 174.04 21.8 167.12 12.08 156.05","fill-opacity":"0",stroke:t.nozzleColor,"stroke-width":"8"}}),r("fm-nozzle",{attrs:{"svg-translate":t.nozzleTranslate,"nozzle-angle":t.nozzleAngle,"nozzle-color":t.nozzleColor}})],1):t._e()])},H=[],j=(r("5319"),{name:"wd-role-rabbit",mixins:[W],data:function(){return{cupSize:12,nozzleColor:"#ee4f16",nozzlePosition:{x:148,y:130},maxPower:80,maxAngle:85}},computed:{},methods:{checkPlayerName:function(t){var e=["小白","白","茵茵","MINGYI","明依"];return t=t.toUpperCase().replace(/ /g,""),e.some((function(e){return e===t}))},isSecretRole:function(){return!0}}}),Y=j,J=Object(b["a"])(Y,Z,H,!1,null,"78f0218f",null),q=J.exports,U=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",width:"267",height:"200"}},[r("defs",[r("path",{attrs:{d:"M73.97 82.28L89.33 82.28C89.2 80.54 89.12 79.45 89.09 79.01C88.6 72.24 86.53 65.69 83.05 59.86C82.74 59.33 81.94 58 80.67 55.87C78.37 58.68 76.94 60.44 76.36 61.14C72.74 65.56 71.39 71.43 72.71 76.99C72.88 77.7 73.3 79.46 73.97 82.28Z",id:"dwg6iYL5p"}}),r("path",{attrs:{d:"M106.05 152.53C113.33 147.85 117.87 144.93 119.69 143.76C124.61 140.6 129.21 136.96 133.42 132.91C137.43 129.05 142.18 124.48 145.96 120.84C150.93 116.06 155.02 110.44 158.05 104.25C159.53 101.24 158.29 103.77 159.49 101.31C163.4 93.33 165.54 84.61 165.78 75.74C165.84 73.6 165.98 68.25 166.21 59.7C166.21 59.7 166.21 59.7 166.21 59.7C167.42 50.49 175.16 43.55 184.45 43.34C185.21 43.33 187.11 43.28 190.15 43.22C189.05 42.48 188.36 42.02 188.08 41.84C182.93 38.4 177.08 36.16 170.95 35.27C169.73 35.09 166.66 34.64 161.75 33.93C161.75 33.93 161.75 33.93 161.75 33.93C165.02 31.04 169.4 29.76 173.71 30.43C173.93 30.47 174.46 30.55 175.31 30.68C173.11 28.72 171.74 27.49 171.19 27C165.8 22.17 159.21 18.88 152.11 17.48C150.45 17.15 152.78 17.61 150.24 17.11C146.01 16.27 141.65 16.3 137.42 17.18C133.95 17.9 133.76 17.94 131.24 18.46C123.94 19.99 117.18 23.46 111.7 28.52C109.09 30.93 113.38 26.98 111.7 28.52C103.38 36.2 98.7 47.03 98.81 58.35C98.84 61.88 98.84 61.89 98.89 67.22C98.94 73.01 100.32 78.71 102.91 83.89C104.82 87.72 107.7 93.48 109.88 97.84C111.61 101.3 112.84 105 113.51 108.81C114 111.55 113.09 106.42 113.24 107.26C114.97 117.02 112.72 127.08 107 135.17C105.79 136.87 102.79 141.12 97.98 147.91L106.05 152.53Z",id:"b6tiWKeEes"}}),r("path",{attrs:{d:"M111.5 105.68C111.72 106.81 111.86 107.52 111.92 107.81C112.82 112.42 114.49 116.85 116.86 120.92C117.97 122.83 116.14 119.69 116.86 120.92C120.57 127.3 123.79 133.96 126.48 140.84C127.07 142.35 124.96 136.96 125.59 138.57C128.11 145.02 129.06 151.97 128.37 158.85C128.08 161.68 128.56 156.95 128.34 159.1C127.44 168.06 123.29 176.38 116.68 182.49C113.96 185.01 116.96 182.23 114.47 184.54C107.09 191.37 97.63 195.54 87.61 196.39C83.57 196.73 83.02 196.78 78 197.2C70.99 197.79 63.92 197.31 57.06 195.75C52.96 194.82 51.54 194.5 47.57 193.61C40.3 191.96 33.46 188.82 27.48 184.38C24.85 182.43 28.45 185.1 26.42 183.6C18.65 177.83 13.3 169.38 11.4 159.89C10.99 157.81 11.99 162.84 11.4 159.89C10.02 153 9.66 145.94 10.32 138.94C10.54 136.64 9.96 142.77 10.12 141.09C10.96 132.18 14.42 123.72 20.05 116.77C21.04 115.55 23.51 112.49 27.48 107.6C27.66 105.38 27.78 103.99 27.82 103.44C28.49 95.47 32.72 88.24 39.34 83.76C39.68 83.53 40.52 82.96 41.86 82.05C41.69 81.63 41.58 81.37 41.54 81.26C38.96 74.75 38.79 67.52 41.09 60.89C41.43 59.89 42.3 57.4 43.68 53.41C44.15 53.58 44.45 53.69 44.57 53.73C53.24 56.82 60.16 63.48 63.57 72.03C63.75 72.47 64.19 73.58 64.9 75.35C68.95 74.88 71.47 74.59 72.48 74.48C80.9 73.5 89.38 75.72 96.26 80.68C97.72 81.73 95.43 80.08 97.89 81.86C101.61 84.54 106.01 86.13 110.59 86.44C111.9 86.53 106.82 86.18 107.63 86.24C113.95 86.67 120.3 86.26 126.52 85.01C127.37 84.84 129.5 84.41 132.91 83.73C130.28 87.17 128.63 89.31 127.98 90.17C123.39 96.16 117.86 101.38 111.6 105.61C111.59 105.62 111.56 105.64 111.5 105.68Z",id:"cZJcX5aw"}}),r("path",{attrs:{d:"M136.15 85.02C136.15 88.33 133.46 91.02 130.15 91.02C126.84 91.02 124.15 88.33 124.15 85.02C124.15 81.71 126.84 79.02 130.15 79.02C133.46 79.02 136.15 81.71 136.15 85.02Z",id:"glKRD1yOy"}}),r("path",{attrs:{d:"M111 105.82C112.65 113.03 113.68 117.53 114.1 119.33C116.86 131.38 117.95 143.75 117.34 156.09C117.23 158.47 117.53 152.37 117.34 156.09C116.96 163.94 115.02 171.64 111.64 178.74C110.66 180.79 115.2 171.25 114.81 172.07C109.66 182.9 100.4 191.22 89.08 195.2C88.92 195.26 99.35 191.59 97.49 192.24C91.4 194.38 84.93 195.22 78.5 194.69C75.55 194.45 80.81 194.88 78.95 194.73C69.08 193.92 59.73 189.98 52.26 183.49C52.26 183.49 60.23 190.42 59.35 189.66C54.69 185.6 51.06 180.5 48.75 174.76C47 170.41 47.63 171.97 46.47 169.08C42.19 158.43 39.69 147.13 39.08 135.66C38.92 132.53 39.28 139.35 39.1 135.94C38.55 125.52 40.91 115.15 45.92 106C47.24 103.6 46.11 105.66 48.07 102.07C50.96 96.8 55.36 92.52 60.7 89.77C62.56 88.81 55.14 92.63 55.8 92.29C64.72 87.7 75.3 87.67 84.25 92.21C84.72 92.45 85.89 93.04 87.76 93.99C93.46 94.89 97.02 95.45 98.44 95.67C105.94 96.86 113.63 95.58 120.34 92.02C121.39 91.46 124.03 90.06 128.26 87.82C127.45 89.12 126.95 89.93 126.75 90.26C123.13 96.12 118.26 101.1 112.49 104.85C112.29 104.98 111.8 105.3 111 105.82Z",id:"b5LyQGVWh"}}),r("path",{attrs:{d:"M40.47 148.3C42.42 147.94 43.64 147.71 44.13 147.62C46.94 147.1 49.5 145.66 51.4 143.53C51.75 143.14 49.76 145.36 50.09 145C51.91 142.96 52.28 140 51.02 137.57C50.51 136.59 51.33 138.16 50.88 137.3C49.43 134.51 46.4 132.9 43.27 133.26C42.21 133.38 39.53 133.68 35.26 134.16",id:"b63bnAp5K"}}),r("path",{attrs:{d:"M121.96 135C123.91 134.64 125.13 134.41 125.62 134.32C128.43 133.79 130.99 132.36 132.89 130.22C133.24 129.84 131.25 132.06 131.58 131.7C133.4 129.65 133.77 126.69 132.51 124.26C132 123.28 132.82 124.86 132.37 124C130.91 121.21 127.89 119.6 124.76 119.95C123.69 120.07 121.02 120.37 116.75 120.86",id:"d1vvdmJ5v"}}),r("g",{attrs:{id:"fx-eye"}},[r("animateTransform",{attrs:{id:"aniFoxEyeScale",attributeName:"transform",type:"scale",from:"1 1",to:"1 0.2",dur:"0.1s",repeatCount:"2",begin:"1s;aniFoxEyeScale2.end+3s"}}),r("animateTransform",{attrs:{id:"aniFoxEyeScale2",attributeName:"transform",type:"scale",from:"1 1",to:"1 0.2",dur:"0.1s",begin:"aniFoxEyeScale.end+4s"}}),r("circle",{attrs:{cx:"0",cy:"0",r:"9",fill:"#fdfdfd"}}),r("circle",{attrs:{cx:"2",cy:"-1",r:"5.9",fill:"#322926"}}),r("circle",{attrs:{cx:"3.5",cy:"-2.5",r:"1.5",fill:"#fdfdfd"}})],1)]),r("g",[r("animateTransform",{attrs:{id:"aniFoxBodyScale",attributeName:"transform",type:"scale",from:"1 1",to:t.bodyScale,dur:"0.08s",begin:"1s;aniFoxBodyScale2.end+0.14s"}}),r("animateTransform",{attrs:{id:"aniFoxBodyScale2",attributeName:"transform",type:"scale",from:t.bodyScale,to:"1 1",dur:"0.08s",begin:"aniFoxBodyScale.end"}}),t.isModeFireman?r("g",{attrs:{transform:"translate(0,45)"}},[r("water-cup",{attrs:{"cup-width":80,"cup-height":100,"water-percent":t.waterPercent}})],1):t._e(),r("use",{attrs:{"xlink:href":"#dwg6iYL5p",fill:"#af320e","fill-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#dwg6iYL5p","fill-opacity":"0",stroke:"#c39283","stroke-width":"1","stroke-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#b6tiWKeEes",fill:"#af320e","fill-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#b6tiWKeEes","fill-opacity":"0",stroke:"#882508","stroke-width":"1","stroke-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#cZJcX5aw",fill:"#e04c22","fill-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#cZJcX5aw","fill-opacity":"0",stroke:"#882508","stroke-width":"1","stroke-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#glKRD1yOy",fill:"#402b26","fill-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#b5LyQGVWh",fill:"#f4a18a","fill-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#fx-eye",transform:"translate(82,90)"}}),r("use",{attrs:{"xlink:href":"#b63bnAp5K",fill:"#e04c22","fill-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#b63bnAp5K","fill-opacity":"0",stroke:"#932a0b","stroke-width":"1","stroke-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#d1vvdmJ5v",fill:"#e04c22","fill-opacity":"1"}}),r("use",{attrs:{"xlink:href":"#d1vvdmJ5v","fill-opacity":"0",stroke:"#932a0b","stroke-width":"1","stroke-opacity":"1"}}),r("circle",{attrs:{cx:"85",cy:"140",r:"22",fill:"#f47885"}}),r("text",{attrs:{"font-family":"Arial",x:"71",y:"146","font-size":"25",fill:"white"}},[t._v(t._s(t.firstCharator))])],1),t.showCup&&t.isModeWater?r("g",{attrs:{transform:t.cupTranslate}},[r("water-cup",{attrs:{"cup-width":t.cupWidth+4,"cup-height":110,"water-percent":t.waterPercent}})],1):t._e(),t.isModeFireman?r("g",[r("path",{attrs:{d:"M121.54 120.38C94.5 125.43 77.6 128.59 70.84 129.86C57.77 132.3 47.58 142.6 45.27 155.7C44.22 161.69 44.85 158.11 43.79 164.16C42.32 172.51 31.67 175.22 26.39 168.58C23.94 165.5 17.81 157.81 8 145.49","fill-opacity":"0",stroke:t.nozzleColor,"stroke-width":"8"}}),r("fm-nozzle",{attrs:{"svg-translate":t.nozzleTranslate,"nozzle-angle":t.nozzleAngle,"nozzle-color":t.nozzleColor}})],1):t._e()])},X=[],Q={name:"wd-role-fox",mixins:[W],data:function(){return{cupSize:15,cupTop:80,cupLeft:130,cupWidth:86,nozzleColor:"#5178ef",nozzlePosition:{x:122,y:110},maxPower:85,maxAngle:70}},computed:{},methods:{checkPlayerName:function(t){var e=["WEIYI","唯依"];return t=t.toUpperCase().replace(/ /g,""),e.some((function(e){return e===t}))},isSecretRole:function(){return!0}}},K=Q,$=Object(b["a"])(K,U,X,!1,null,"95febe50",null),tt=$.exports,et=[{comp:_,tag:"role-piggy"},{comp:V,tag:"role-horse"},{comp:q,tag:"role-rabbit"},{comp:tt,tag:"role-fox"}],rt={name:"water-drop-welcome",components:{"role-piggy":_,"role-horse":V,"role-rabbit":q,"role-fox":tt},props:{gameResult:{type:Object,default:function(){return{}}}},mounted:function(){var t=this;p.a.get("https://www.cloudflare.com/cdn-cgi/trace",{crossdomain:!0}).then((function(e){t.isOpenUser=e.data.split("\n").some((function(t){return!(t.length<=3||"ip="!==t.substring(0,3))&&t.split("=")[1]===l}))})).catch((function(e){t.isOpenUser=!1}))},data:function(){return{gameData:h.state,name:h.state.player.name,isOpenUser:!1,allRoles:et,choosedRoleTag:""}},computed:{visibleRoles:function(){var t=this;return this.allRoles.filter((function(e){return t.isOpenUser||!e.comp.methods.isSecretRole}))},rate:function(){var t=this.gameResult.cupDrops/this.gameResult.totalDrops;return Math.round(1e4*t)/100},isWaterGameFinished:function(){return this.gameData.game.previewsGameName===o.water}},methods:{startWaterGame:function(){h.setPlayer({name:this.name,role:this.choosedRoleTag}),h.gameStarted(o.water,!0,!0)},chooseRole:function(t){this.choosedRoleTag=t},startFireGame:function(){h.gameStarted(o.fire,!1,!1)}}},at=rt,it=(r("45e7"),Object(b["a"])(at,m,d,!1,null,"34d6cdb0",null)),nt=it.exports,st=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"fireman-world",style:t.worldStyle},[r("svg",{ref:"svgRoot",attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:t.viewBoxString,width:"100%",height:t.svgRoot.h,preserveAspectRatio:"xMinYMin meet"}},[r("fm-objs-def"),r("g",{attrs:{transform:t.buildingTranslate}},[r("fm-building",{attrs:{"fire-timmer":t.fireTimmer.stepL1,"rand-seed":t.fireTimmer.randSeed}})],1),3===t.giraffe.status?r("g",{attrs:{transform:t.giraffeTransform}},[r("fireman-giraffe")],1):t._e(),t._l(t.waterDrops,(function(e){return r("g",{key:e.id},[r("water-drop",{attrs:{"drop-data":e,"drop-timmer":t.fireTimmer.stepL0,"game-configure":t.dropConfigure},on:{"self-distroyed":t.waterDistroyed}})],1)})),r("fm-aim-area",{attrs:{"svg-translate":t.aimAreaTranslate,"max-power":t.aimArea.maxPower,"max-angle":t.aimArea.maxAngle,"role-param":t.aimArea.maxPower+" "+t.aimArea.maxAngle,"svg-pos":t.svgRoot},on:{"report-aimarea":t.initArmArea,"change-aim":t.setAim}}),r("rect",{attrs:{x:"0",y:t.groundY,width:"1200",height:200,fill:"#502414"}}),r("g",{attrs:{transform:t.playerTransform},on:{click:t.sprayWater}},[r(t.player.role,{tag:"component",attrs:{"player-name":t.player.name,"is-moving":!1,"water-amount":t.player.waterAmount,"role-mode":"fireman",nozzleAngle:-t.currentAim.angle},on:{"report-fireman":t.initFireman}})],1)],2),r("wd-sound",{attrs:{"rain-drop-id":t.dropId}})],1)},ot=[],lt=(r("a434"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"wd-sound"},[a("audio",{ref:"soundRainDrop1",attrs:{id:"soundRainDrop1"}},[a("source",{attrs:{src:r("4e6b"),type:"audio/mp3"}})]),a("audio",{ref:"soundRainDrop2",attrs:{id:"soundRainDrop2"}},[a("source",{attrs:{src:r("4e6b"),type:"audio/mp3"}})]),a("audio",{ref:"soundRainDrop3",attrs:{id:"soundRainDrop3"}},[a("source",{attrs:{src:r("4e6b"),type:"audio/mp3"}})])])}),ft=[],At={name:"wd-sound",props:{rainDropId:{type:Number,default:0}},mounted:function(){},data:function(){return{rainDropSoundInd:0}},watch:{rainDropId:function(t,e){t>0&&(this.rainDropSoundInd++,this.rainDropSoundInd>3&&(this.rainDropSoundInd=1),this.$refs["soundRainDrop"+this.rainDropSoundInd].play())}},methods:{},computed:{}},ut=At,ht=(r("f688"),Object(b["a"])(ut,lt,ft,!1,null,"d5c1fb84",null)),mt=ht.exports,dt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("rect",{attrs:{x:"0",y:"0",width:t.width,height:"20",fill:"url(#patHandrail)"}}),r("rect",{attrs:{x:"0",y:"20",width:t.width,height:t.buildingH,fill:"url(#patBrick)"}}),r("line",{attrs:{x1:"0",y1:"1",x2:t.width,y2:"1","stroke-width":"2",stroke:"#9a9a9a"}}),t._l(t.allWindows,(function(e){return r("fm-window",{key:e.id,attrs:{"win-data":e,"fire-timmer":t.fireTimmer,"game-rand":t.randSeed}})}))],2)},ct=[],pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",{attrs:{transform:t.svgTransform}},[r("rect",{attrs:{x:"2",y:"2",width:t.size.w-4,height:t.size.h-4,fill:"#433333","stroke-width":"1",stroke:"#b3b3b3"}}),r("rect",{attrs:{x:"0",y:t.windowSill.y,width:t.size.w,height:t.windowSill.h,fill:"#b3b3b3"}}),t.winData.fireValue>0?r(t.fireLevelObj.tag,{tag:"component",attrs:{"rand-seed":t.winData.randSeed,"fire-size":t.fireLevelObj.size,"svg-translate":t.fireLevelObj.translate}}):t._e(),t.giraffeInside?r("role-giraffe"):t._e()],1)},Ct=[],gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",{attrs:{transform:t.svgTransform}},[r("g",{staticStyle:{"transform-origin":"50% 100%","transform-box":"fill-box"},attrs:{transform:""}},[r("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"1 1",to:"1 1.2",dur:"0.2s",begin:"aniFmFireTimmer1.end+"+t.randDelay+"s"}}),r("use",{attrs:{"xlink:href":"#fm-fire-large-part1"}}),r("use",{attrs:{"xlink:href":"#fm-fire-large-part2"}}),r("use",{attrs:{"xlink:href":"#fm-fire-large-part3"}}),r("use",{attrs:{"xlink:href":"#fm-fire-large-part4"}})],1)])},wt=[],yt={name:"fm-fire-large",props:{fireSize:{type:Number,default:120},svgTranslate:{type:String,default:""},randSeed:{type:Number,default:0}},mounted:function(){},data:function(){return{originalSize:120}},computed:{svgTransform:function(){var t="";if(this.fireSize!==this.originalSize){var e=Math.round(this.fireSize/this.originalSize*100)/100;t="scale("+e+", "+e+")"}return""!==this.svgTranslate&&(t+=" translate("+this.svgTranslate+")"),t},randDelay:function(){var t=this.randSeed%4;return 0===t?"0.031":1===t?"0.15":2===t?"0.243":"0.312"}},methods:{}},xt=yt,vt=Object(b["a"])(xt,gt,wt,!1,null,"6537ebb6",null),bt=vt.exports,St=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",{attrs:{transform:t.svgTransform}},[r("g",{staticStyle:{"transform-origin":"50% 100%","transform-box":"fill-box"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"1 1",to:"1 1.2",dur:"0.2s",begin:"aniFmFireTimmer1.end+"+t.randDelay+"s"}}),r("use",{attrs:{"xlink:href":"#fm-fire-mid-part1"}}),r("use",{attrs:{"xlink:href":"#fm-fire-mid-part2"}}),r("use",{attrs:{"xlink:href":"#fm-fire-mid-part3"}}),r("use",{attrs:{"xlink:href":"#fm-fire-mid-part4"}})],1)])},kt=[],zt={name:"fm-fire-mid",props:{fireSize:{type:Number,default:65},svgTranslate:{type:String,default:""},randSeed:{type:Number,default:0}},mounted:function(){},data:function(){return{originalSize:65}},computed:{svgTransform:function(){var t="";if(this.fireSize!==this.originalSize){var e=Math.round(this.fireSize/this.originalSize*100)/100;t="scale("+e+", "+e+")"}return""!==this.svgTranslate&&(t+=" translate("+this.svgTranslate+")"),t},randDelay:function(){var t=this.randSeed%4;return 0===t?"0.031":1===t?"0.15":2===t?"0.243":"0.312"}},methods:{}},Rt=zt,Tt=Object(b["a"])(Rt,St,kt,!1,null,"19d2db96",null),Mt=Tt.exports,Pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",{attrs:{transform:t.svgTransform}},[r("g",{staticStyle:{"transform-origin":"50% 100%","transform-box":"fill-box"}},[r("animateTransform",{attrs:{attributeName:"transform",type:"scale",from:"1 1",to:"1 1.2",dur:"0.2s",begin:"aniFmFireTimmer1.end+"+t.randDelay+"s"}}),r("use",{attrs:{"xlink:href":"#fm-fire-small-part1"}}),r("use",{attrs:{"xlink:href":"#fm-fire-small-part2"}}),r("use",{attrs:{"xlink:href":"#fm-fire-small-part3"}}),r("use",{attrs:{"xlink:href":"#fm-fire-small-part4"}})],1)])},Dt=[],Wt={name:"fm-fire-small",props:{fireSize:{type:Number,default:65},svgTranslate:{type:String,default:""},randSeed:{type:Number,default:0}},mounted:function(){},data:function(){return{originalSize:67}},computed:{svgTransform:function(){var t="";if(this.fireSize!==this.originalSize){var e=Math.round(this.fireSize/this.originalSize*100)/100;t="scale("+e+", "+e+")"}return""!==this.svgTranslate&&(t+=" translate("+this.svgTranslate+")"),t},randDelay:function(){var t=this.randSeed%4;return 0===t?"0.031":1===t?"0.15":2===t?"0.243":"0.312"}},methods:{}},Lt=Wt,Ft=Object(b["a"])(Lt,Pt,Dt,!1,null,"da7c7354",null),Et=Ft.exports,_t=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:t.viewBoxString,preserveAspectRatio:"xMidYMid meet",width:t.svgWidth,height:t.svgHeight}},[r("defs",[r("g",{attrs:{id:"gr-eye"}},[r("circle",{attrs:{cx:"0",cy:"0",r:"10",fill:"white"}}),r("path",{attrs:{d:"M -5 1 L 0 2 L 5 -1",stroke:"black"}})]),r("circle",{attrs:{cx:"0",cy:"0",r:"10",id:"gr-dot",fill:"#d6621e"}})]),r("path",{attrs:{d:"M54.42 293.87L2.88 299.44L40.98 281.64L54.42 293.87Z",fill:"#feb222",stroke:"#858383",id:"gr-tail"}}),r("path",{attrs:{d:"M136.31 35L137.83 8.22L149.86 28.91",fill:"#feb222",stroke:"#888181",id:"gr-ear-r"}}),r("path",{attrs:{d:"M91.65 313.35C89.71 335.02 88.5 348.57 88.01 353.98C87.61 358.42 81.65 359.55 79.65 355.57C76.97 350.23 70.25 336.87 59.52 315.49",fill:"#feb222",stroke:"#888181",id:"gr-leg-b-l"}}),r("path",{attrs:{d:"M161.28 307.12C159.34 328.79 158.12 342.34 157.64 347.75C157.24 352.19 151.27 353.32 149.28 349.34C146.59 344 139.88 330.64 129.14 309.26",fill:"#feb222",stroke:"#888181",id:"gr-leg-b-r"}}),r("path",{attrs:{d:"M48.37 333.07C53.05 336.27 55.97 338.28 57.14 339.08C76.13 352.09 100.13 355.41 121.93 348.03C128.63 345.76 122.24 347.93 130.97 344.97C146.66 339.66 159.64 328.41 167.14 313.64C169.64 308.7 165.79 316.3 168.37 311.21C175.53 297.09 176.12 280.55 169.99 265.96C168.79 263.12 165.8 256 161.01 244.61L142.24 102.16L138.29 88.11L138.22 90.28C138.25 90.3 138.27 90.32 138.27 90.32C146.72 97.84 158.01 101.35 169.23 99.94C173.84 99.36 165.93 100.35 169.52 99.9C183.27 98.18 194.59 88.25 198.08 74.84C198.92 71.6 196.93 79.27 198.08 74.82C200.69 64.82 197.7 54.2 190.26 47.03C187.46 44.33 187.67 44.54 184.02 41.01C178.93 36.11 172.83 32.39 166.14 30.11C163.71 29.29 157.65 27.22 147.94 23.92C143.22 23.45 140.27 23.16 139.09 23.04C132.36 22.38 125.61 24.06 119.98 27.8C118.61 28.72 119.23 28.3 116.87 29.87C114.4 31.52 112.39 33.76 111.03 36.4C110.05 38.29 111.43 35.61 111.02 36.42C107.88 42.5 107.05 49.5 108.68 56.14C109.57 59.74 108.49 55.35 109.07 57.73C111.75 68.65 113.36 79.81 113.86 91.04C114.81 112.25 117.28 167.37 118.32 190.67C118.51 194.94 118.13 199.21 117.2 203.37C115.15 212.46 112.45 224.47 110.91 231.32C108.47 242.16 100.44 250.88 89.84 254.2C82.09 256.63 77.29 258.14 69.87 260.46C57.79 264.25 47.58 272.43 41.25 283.38C38.06 288.91 43.18 280.04 41.2 283.47C31.86 299.63 34.79 320.09 48.29 332.98C48.3 332.99 48.33 333.02 48.37 333.07Z",fill:"#feb222",stroke:"#888181",id:"gr-body"}}),r("use",{attrs:{"xlink:href":"#gr-dot",transform:"translate(100,260)"}}),r("use",{attrs:{"xlink:href":"#gr-dot",transform:"translate(80,280)"}}),r("use",{attrs:{"xlink:href":"#gr-dot",transform:"scale(0.8),translate(73,342)"}}),r("use",{attrs:{"xlink:href":"#gr-dot",transform:"translate(130,140)"}}),r("use",{attrs:{"xlink:href":"#gr-dot",transform:"scale(0.5),translate(240,210)"}}),r("use",{attrs:{"xlink:href":"#gr-dot",transform:"scale(0.5),translate(250,350)"}}),r("path",{attrs:{d:"M112.24 53.13L91.18 36.33L115.13 38.64",fill:"#feb222",stroke:"#888181",id:"gr-ear-l"}}),r("use",{attrs:{"xlink:href":"#gr-eye",transform:"translate(138,48)"}}),r("use",{attrs:{"xlink:href":"#gr-eye",transform:"translate(160,38)"}}),r("path",{attrs:{d:"M118.35 35.51L106.97 12.33",id:"c4OPYlJjO",stroke:"#888181","stroke-width":"3"}}),r("path",{attrs:{d:"M129.59 30.91L123.88 5.76",id:"e7di5he1V",stroke:"#888181","stroke-width":"3"}}),r("use",{attrs:{"xlink:href":"#gr-dot",transform:"scale(0.8),translate(135,18)"}}),r("use",{attrs:{"xlink:href":"#gr-dot",transform:"scale(0.8),translate(155,10)"}}),r("path",{attrs:{d:"M67.16 317.25C58.93 337.42 53.79 350.03 51.74 355.07C50.05 359.2 44.02 358.54 43.27 354.14C42.27 348.26 39.78 333.54 35.79 310",fill:"#feb222",stroke:"#888181",id:"gr-leg-b-r"}}),r("path",{attrs:{d:"M140.88 321.1C138.94 342.77 137.72 356.31 137.24 361.73C136.84 366.17 130.88 367.3 128.88 363.32C126.19 357.98 119.48 344.62 108.74 323.24",fill:"#feb222",stroke:"#888181",id:"gr-leg-f-r"}}),2===t.giraffe.status?r("g",[r("rect",{attrs:{x:"70",y:"-20",width:"120",height:"50",fill:"#e0e0e0","stroke-width":"1",stroke:"#ffffff"}}),r("text",{attrs:{x:"72",y:"20","font-size":"36",stroke:"#000000"}},[t._v("thanks")])]):t._e(),3===t.giraffe.status?r("rect",{attrs:{x:"50",y:"105",width:"90",height:"10",fill:"#e07060"}}):t._e()])},It=[],Gt={name:"fm-giraffe",props:{},data:function(){return{giraffe:h.state.giraffe}},computed:{svgWidth:function(){return 1===this.giraffe.status||2===this.giraffe.status?s.worldSize.buildingWindow.w:(this.giraffe.status,200)},svgHeight:function(){return 1===this.giraffe.status||2===this.giraffe.status?s.worldSize.buildingWindow.h-5:3===this.giraffe.status?400:350},viewBoxString:function(){return 1===this.giraffe.status?"45 20 180 120":2===this.giraffe.status?"60 -20 110 90":"0 0 "+this.svgWidth+" "+this.svgHeight}},methods:{}},Ot=Gt,Nt=Object(b["a"])(Ot,_t,It,!1,null,null,null),Bt=Nt.exports,Vt=[{tag:"fire-small",size:20,translate:"30,65"},{tag:"fire-mid",size:25,translate:"22,30"},{tag:"fire-large",size:35,translate:"15,55"},{tag:"fire-large",size:45,translate:"0,15"}],Zt={name:"fm-window",components:{"fire-large":bt,"fire-mid":Mt,"fire-small":Et,"role-giraffe":Bt},props:{winData:{type:Object,default:function(){return{id:0,svgTranslate:"",randSeed:0,fireValue:0}}},gameRand:{type:Number,default:0},fireTimmer:{type:Number,default:0}},data:function(){return{size:s.worldSize.buildingWindow,giraffeMsgName:"giraffe-in-window-"+this.winData.id,hasGiraffe:!1,giraffe:h.state.giraffe,thanksTime:4}},mounted:function(){h.state.game.continueFireGame||this.initFireValue()},watch:{fireTimmer:function(){this.timmerFire()}},computed:{giraffeInside:function(){return this.giraffe.winId===this.winData.id},windowSill:function(){return{y:this.size.h-5,h:5}},svgTransform:function(){return""===this.winData.svgTranslate?"":"translate("+this.winData.svgTranslate+")"},fireLevelObj:function(){var t=Math.ceil(this.winData.fireValue)-1;return t>=Vt.length?t=Vt.length-1:t<0&&(t=0),Vt[t]},visibleFireValue:function(){return Math.floor(1e4*this.winData.fireValue)/1e4}},methods:{timmerFire:function(){if(this.giraffeInside)2===this.giraffe.status&&(this.thanksTime--,this.thanksTime<=0&&h.giraffeBecomeFireman());else if(this.winData.fireValue>0)this.winData.fireValue<Vt.length&&h.addFire(this.winData.id,s.fireGrowSpeed);else{var t=Math.abs(this.winData.randSeed-this.gameRand);t<s.fireStartChance&&this.valueByChance(t/80.01)}},valueByChance:function(t){t>.95?h.addFire(this.winData.id,3.1):t>.84?h.addFire(this.winData.id,2.1):t>.5?h.addFire(this.winData.id,1.1):h.addFire(this.winData.id,.5)},initFireValue:function(){var t=this.winData.randSeed-8e3;if(t<=0)return 0;this.valueByChance(t/2e3)}}},Ht=Zt,jt=(r("d5d3"),Object(b["a"])(Ht,pt,Ct,!1,null,"7725342c",null)),Yt=jt.exports,Jt={name:"fm-building",components:{"fm-window":Yt},props:{randSeed:{type:Number,default:0},fireTimmer:{type:Number,default:0}},mounted:function(){},data:function(){return{width:180,allWindows:h.state.game.allWindows}},computed:{buildingH:function(){return s.worldSize.fireH-100},svgStyle:function(){return{}}},methods:{}},qt=Jt,Ut=(r("cecb"),Object(b["a"])(qt,dt,ct,!1,null,"88349cea",null)),Xt=Ut.exports,Qt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("defs",[r("pattern",{attrs:{id:"patHandrail",patternUnits:"userSpaceOnUse",width:"25",height:"30"}},[r("line",{attrs:{x1:"1",y1:"0",x2:"1",y2:"30","stroke-width":"2",stroke:"#9a9a9a"}})]),r("pattern",{attrs:{id:"patBrick",patternUnits:"userSpaceOnUse",width:"16",height:"8"}},[r("rect",{attrs:{width:"18",height:"8","stroke-width":"1",stroke:"#a0a0a0",fill:"#ae3422",x:"0",y:"0"}})]),r("radialGradient",{attrs:{id:"rain-gradient",cx:"0.5",cy:"0.7",r:"0.7",fx:"0.5",fy:"0.7"}},[r("stop",{attrs:{offset:"0%","stop-color":"#18c0f2"}}),r("stop",{attrs:{offset:"20%","stop-color":"#18c0f2"}}),r("stop",{attrs:{offset:"100%","stop-color":"white"}})],1),r("animateTransform",{attrs:{id:"aniFmFireTimmer1",dur:"0.01s",begin:".01s;aniFmFireTimmer1.end+0.24s"}}),r("animateTransform",{attrs:{id:"aniFmFireTimmer2",dur:"0.01s",begin:".05s;aniFmFireTimmer1.end+0.34s"}}),r("path",{attrs:{id:"fm-fire-large-part1",fill:"#fd5215",d:"M 100.63 111.51 C 105.69 109.92 110.18 106.91 113.59 102.85 C 114.48 101.78 116.72 99.12 120.3 94.85 C 117.36 95.44 115.52 95.81 114.78 95.95 C 110.24 96.87 105.54 95.44 102.27 92.16 C 102.12 92.02 101.75 91.64 101.15 91.05 C 103.19 87.87 104.47 85.88 104.98 85.09 C 106.73 82.36 107.53 79.13 107.24 75.9 C 106.95 72.7 106.53 68.06 106.24 64.85 C 105.94 61.56 106.27 58.24 107.2 55.07 C 107.58 53.75 108.55 50.45 110.1 45.16 C 105.79 48.64 103.09 50.81 102.01 51.68 C 98.13 54.8 92.74 55.27 88.38 52.86 C 88.05 52.68 87.23 52.23 85.92 51.51 C 89.55 48.28 91.82 46.27 92.73 45.46 C 93.8 44.51 94.68 43.37 95.32 42.09 C 96.14 40.44 96.03 40.67 96.45 39.84 C 98.4 35.94 99.24 31.57 98.88 27.22 C 98.71 25.14 98.59 23.76 98.38 21.24 C 98.14 18.31 97.25 15.47 95.77 12.93 C 94.77 11.2 95.49 12.44 94.86 11.35 C 92.25 6.84 87.87 3.64 82.78 2.52 C 81.27 2.18 77.48 1.34 71.42 0 C 75.28 1.93 77.7 3.14 78.67 3.62 C 79.44 4.01 80.1 4.58 80.59 5.3 C 81.8 7.06 81.35 6.41 81.73 6.96 C 84.13 10.45 82.34 15.26 78.25 16.35 C 75.92 16.97 75.84 16.99 73.14 17.71 C 68.77 18.88 64.5 20.37 60.37 22.19 C 58.5 23.01 58.49 23.01 56.47 23.9 C 52.9 25.47 49.73 27.84 47.22 30.82 C 45.89 32.41 46.8 31.32 45.75 32.58 C 42.37 36.59 40.38 41.57 40.04 46.8 C 39.98 47.83 39.82 50.41 39.55 54.54 C 38.46 54.2 37.77 53.98 37.5 53.9 C 32 52.16 28.2 47.14 28.04 41.38 C 28.02 40.69 27.97 38.96 27.89 36.2 C 23.94 40.84 21.47 43.74 20.48 44.9 C 15.52 50.71 13.72 58.58 15.66 65.97 C 15.94 67.04 16.63 69.7 17.75 73.96 C 17.6 74.04 17.51 74.09 17.48 74.11 C 13.64 76.21 9.12 76.66 4.95 75.38 C 4.29 75.17 2.64 74.67 0 73.85 C 3.91 80.63 6.35 84.87 7.32 86.56 C 7.32 86.56 11.67 93.82 11.67 93.82 C 13.81 97.24 11.13 92.94 11.55 93.62 C 18.4 104.6 29.68 112.06 42.46 114.08 C 42.76 114.12 43.49 114.24 44.67 114.42 C 59.66 115.55 69.02 116.25 72.77 116.53 C 79.11 117 85.48 116.27 91.54 114.36 C 94.91 113.3 96.98 112.65 100.63 111.51 Z"}}),r("path",{attrs:{id:"fm-fire-large-part2",fill:"#ffaf18",transform:"translate(20,41)",d:"M 72.94 72.31 C 76.81 71.14 80.29 68.91 82.96 65.86 C 83.63 65.1 85.3 63.19 87.97 60.14 C 85.73 60.57 84.33 60.84 83.77 60.95 C 80.28 61.62 76.69 60.55 74.12 58.1 C 74.02 58 73.77 57.76 73.36 57.37 C 74.66 55.26 75.47 53.94 75.8 53.41 C 77.46 50.72 77.9 47.44 77.01 44.39 C 76.39 42.31 75.96 40.84 75.35 38.76 C 74.42 35.6 74.12 32.3 74.48 29.03 C 74.57 28.11 74.82 25.82 75.22 22.15 C 73.52 23.03 72.46 23.57 72.04 23.79 C 69.51 25.1 67.58 27.33 66.65 30.02 C 66.53 30.35 66.25 31.19 65.79 32.52 C 64.32 29.22 63.41 27.16 63.04 26.33 C 61.65 23.18 60.9 19.79 60.86 16.34 C 60.84 14.98 60.85 15.88 60.84 14.46 C 60.8 11.23 61.65 8.04 63.31 5.27 C 63.73 4.57 64.77 2.81 66.45 0 C 61.96 0 59.16 0 58.04 0 C 53.79 0 49.58 0.79 45.62 2.33 C 44.72 2.68 46.13 2.13 44.76 2.66 C 42.35 3.59 40.17 5.04 38.39 6.91 C 37.37 7.97 36.68 8.69 35.57 9.85 C 34.05 11.43 32.7 13.18 31.55 15.05 C 30.67 16.5 31.29 15.49 30.79 16.3 C 28.41 20.18 27.4 24.76 27.95 29.28 C 28 29.71 28.13 30.79 28.34 32.52 C 26.32 31.68 25.06 31.16 24.56 30.95 C 20.19 29.15 16.69 25.75 14.74 21.45 C 14.31 20.49 13.23 18.09 11.5 14.26 C 10.36 19.33 9.65 22.5 9.36 23.76 C 7.84 30.51 8.44 37.57 11.08 43.97 C 11.24 44.37 11.66 45.37 12.32 46.98 C 11.65 47.31 11.23 47.52 11.06 47.6 C 8 49.13 4.29 48.16 2.35 45.35 C 2.04 44.89 1.25 43.75 0 41.93 C 1.41 48.16 2.29 52.06 2.64 53.62 C 3.11 55.7 3.95 57.69 5.12 59.48 C 6.74 61.95 4.44 58.43 4.71 58.84 C 10.11 67.12 18.8 72.7 28.58 74.18 C 28.8 74.21 29.36 74.29 30.25 74.43 C 41.69 75.25 48.84 75.76 51.7 75.96 C 56.54 76.31 61.4 75.77 66.05 74.37 C 68.61 73.6 70.15 73.14 72.94 72.31 Z"}}),r("path",{attrs:{id:"fm-fire-large-part3",fill:"#ffd91e",transform:"translate(30,55)",d:"M 52.61 59.81 C 55.85 58.9 58.73 57.01 60.85 54.39 C 61.37 53.74 62.67 52.14 64.76 49.57 C 63.73 50.08 63.09 50.41 62.83 50.54 C 60.19 51.87 57.06 51.81 54.47 50.37 C 54.08 50.16 53.12 49.62 51.58 48.77 C 53.12 47.73 54.09 47.08 54.48 46.82 C 56.72 45.32 58.37 43.1 59.17 40.53 C 59.51 39.45 59.19 40.49 59.5 39.49 C 60.37 36.67 60.28 33.64 59.23 30.88 C 58.82 29.8 57.78 27.09 56.13 22.75 C 55.64 23.84 55.33 24.52 55.21 24.79 C 54.21 27 52.6 28.87 50.57 30.2 C 50.33 30.36 49.72 30.76 48.75 31.39 C 49.47 28.22 49.93 26.23 50.11 25.44 C 50.76 22.59 50.9 19.66 50.54 16.77 C 50.39 15.58 50.52 16.65 50.38 15.52 C 49.99 12.44 48.71 9.54 46.68 7.18 C 45.86 6.22 43.81 3.83 40.53 0 C 40.53 0.55 40.53 0.9 40.53 1.03 C 40.53 3.33 39.55 5.51 37.85 7.05 C 36.84 7.95 37.14 7.68 36.29 8.44 C 33.98 10.52 31.35 12.22 28.51 13.48 C 27.63 13.87 28.24 13.6 27.1 14.11 C 25.13 14.98 23.5 16.46 22.43 18.32 C 21.75 19.5 22.4 18.38 21.97 19.12 C 20.13 22.33 19.91 26.21 21.37 29.61 C 21.41 29.69 21.5 29.9 21.64 30.23 C 20.12 29.63 19.17 29.26 18.79 29.12 C 15.44 27.8 12.7 25.26 11.15 22.01 C 10.83 21.35 10.05 19.7 8.78 17.06 C 7.97 20.49 7.45 22.64 7.25 23.5 C 6.02 28.66 6.22 34.07 7.83 39.13 C 8.03 39.75 8.52 41.29 9.31 43.76 C 9.08 43.73 8.93 43.71 8.88 43.7 C 6 43.27 3.41 41.7 1.7 39.34 C 1.47 39.03 0.9 38.26 0 37.01 C 1.06 41.44 1.72 44.21 1.99 45.32 C 2.37 46.9 3.04 48.41 3.97 49.75 C 5.19 51.52 3.18 48.61 3.33 48.83 C 7.64 55.06 14.35 59.2 21.84 60.27 C 22.01 60.3 22.43 60.36 23.1 60.45 C 31.83 61.04 37.29 61.41 39.47 61.56 C 43.18 61.81 46.89 61.42 50.46 60.42 C 51.89 60.02 51.1 60.24 52.61 59.81 Z"}}),r("path",{attrs:{id:"fm-fire-large-part4",fill:"#fffa60",transform:"translate(38,74)",d:"M 38.11 41.85 C 40.47 41.21 42.57 39.86 44.14 37.99 C 44.51 37.55 45.44 36.44 46.92 34.68 C 46.19 35.03 45.73 35.26 45.55 35.35 C 43.61 36.29 41.34 36.24 39.44 35.23 C 39.17 35.08 38.48 34.71 37.37 34.12 C 38.48 33.4 39.17 32.95 39.45 32.77 C 41.09 31.71 42.31 30.12 42.91 28.26 C 43.14 27.53 42.86 28.41 43.08 27.72 C 43.73 25.69 43.66 23.5 42.88 21.51 C 42.59 20.77 41.85 18.9 40.67 15.92 C 40.33 16.64 40.12 17.09 40.03 17.27 C 39.29 18.86 38.1 20.2 36.62 21.14 C 36.45 21.25 36.01 21.52 35.32 21.96 C 35.83 19.79 36.15 18.44 36.28 17.89 C 36.77 15.84 36.88 13.72 36.61 11.62 C 36.5 10.81 36.62 11.74 36.52 10.97 C 36.23 8.74 35.28 6.65 33.78 4.97 C 33.19 4.3 31.72 2.65 29.37 0 C 29.37 0.34 29.37 0.55 29.37 0.63 C 29.37 2.29 28.65 3.87 27.39 4.95 C 26.67 5.58 26.94 5.34 26.34 5.87 C 24.63 7.34 22.71 8.55 20.64 9.44 C 20 9.71 20.47 9.51 19.65 9.86 C 18.22 10.48 17.02 11.53 16.22 12.87 C 15.74 13.68 16.27 12.78 15.98 13.28 C 14.62 15.57 14.45 18.39 15.54 20.83 C 15.56 20.87 15.6 20.98 15.68 21.15 C 14.59 20.73 13.91 20.48 13.64 20.37 C 11.19 19.45 9.19 17.64 8.03 15.3 C 7.81 14.85 7.25 13.73 6.37 11.93 C 5.8 14.24 5.44 15.68 5.3 16.25 C 4.38 19.98 4.53 23.9 5.73 27.55 C 5.87 27.96 6.2 28.98 6.74 30.62 C 6.58 30.59 6.48 30.58 6.43 30.57 C 4.34 30.27 2.46 29.15 1.18 27.46 C 1.03 27.26 0.63 26.73 0 25.89 C 0.76 28.96 1.24 30.88 1.43 31.65 C 1.71 32.8 2.21 33.88 2.9 34.84 C 3.78 36.07 2.21 33.88 2.3 34 C 5.5 38.47 10.39 41.42 15.83 42.17 C 15.95 42.18 16.26 42.23 16.74 42.29 C 23.07 42.71 27.02 42.96 28.6 43.07 C 31.29 43.24 33.98 42.97 36.58 42.27 C 37.61 41.99 37.02 42.15 38.11 41.85 Z"}}),r("path",{attrs:{id:"fm-fire-mid-part1",fill:"#fd5215",d:"M42.54 101.11C48.03 99.63 52.97 96.62 56.8 92.41C58.31 90.75 56.57 92.66 57.98 91.12C62.04 86.65 64.08 80.7 63.61 74.67C63.48 72.94 63.6 74.59 63.42 72.21C63.1 68.09 62.3 64.02 61.04 60.09C60.27 57.66 60.19 57.4 59.5 55.25C57.96 50.42 55.49 45.93 52.23 42.04C51.77 41.49 50.62 40.12 48.78 37.93C48.78 37.93 48.78 37.93 48.78 37.93C49.62 41.08 49.22 44.43 47.65 47.29C47.08 48.33 48.14 46.4 47.65 47.29C46.27 49.82 42.81 50.22 40.89 48.08C40.89 48.08 40.89 48.08 40.89 48.08C40.91 47.01 40.93 46.34 40.93 46.08C41 43.07 40.69 40.07 39.99 37.15C39.52 35.18 40.07 37.5 39.83 36.48C38.4 30.47 35.28 25 30.84 20.71C30.61 20.5 34.26 24.01 33.41 23.2C31 20.88 29.31 17.91 28.52 14.66C28.31 13.79 28.77 15.69 28.53 14.71C27.83 11.81 27.81 8.8 28.49 5.9C28.61 5.35 28.93 3.98 29.44 1.79C26.66 4.42 24.92 6.06 24.22 6.72C22.7 8.16 21.44 9.85 20.5 11.73C19.75 13.25 20.44 11.86 20.07 12.6C17.89 16.98 17.14 21.93 17.92 26.76C18.13 28.05 17.85 26.32 18.14 28.06C18.69 31.43 20.05 34.62 22.11 37.34C22.64 38.04 20.13 34.73 20.42 35.11C23.15 38.72 24.03 43.38 22.81 47.73C22.57 48.62 21.95 50.84 20.95 54.38C20.95 53.86 20.95 53.53 20.95 53.4C20.95 48.18 18.42 43.29 14.15 40.28C13.14 39.56 10.6 37.76 6.53 34.89C8.25 41.4 9.33 45.47 9.76 47.1C10.93 51.53 9.96 56.25 7.14 59.86C6.23 61.03 7 60.04 5.85 61.52C3.71 64.26 2.45 67.58 2.23 71.04C2.11 72.94 2.16 72.16 2.06 73.77C1.78 78.23 2.53 82.69 4.28 86.8C4.89 88.24 3.94 86 4.52 87.36C6.35 91.69 9.54 95.3 13.6 97.66C14.75 98.32 11.72 96.57 12.82 97.2C17.14 99.71 21.84 101.5 26.73 102.52C27.93 102.76 22.44 101.63 23.21 101.79C29.47 103.08 35.94 102.89 42.11 101.23C43.88 100.75 40.58 101.64 42.54 101.11Z"}}),r("path",{attrs:{id:"fm-fire-mid-part2",fill:"#ffaf18",d:"M40.16 93.67C44.14 92.6 47.72 90.41 50.5 87.37C51.59 86.16 50.33 87.55 51.35 86.43C54.27 83.22 55.56 78.85 54.85 74.57C54.67 73.49 54.64 73.3 54.31 71.29C54.08 69.9 53.5 68.6 52.63 67.49C52.01 66.7 52.5 67.32 52.13 66.85C50.58 64.88 50.53 62.12 52 60.08C52.38 59.55 53.35 58.21 54.89 56.06C53.77 56.02 53.06 55.99 52.78 55.98C49.86 55.87 46.97 56.54 44.4 57.94C44.12 58.09 43.43 58.47 42.31 59.08C40.24 57.59 38.95 56.65 38.43 56.28C37.31 55.48 36.54 54.29 36.24 52.95C36.07 52.15 36.2 52.73 36.07 52.16C35.61 50.04 35.58 47.85 35.99 45.73C36.12 45.04 36.01 45.62 36.17 44.79C36.48 43.17 36.28 41.5 35.6 40C35.3 39.34 35.4 39.56 35.09 38.88C34.44 37.43 33.56 36.09 32.5 34.9C32.13 34.49 33.46 35.97 33.3 35.79C31.6 33.89 30.73 31.39 30.87 28.84C30.9 28.35 30.98 27.11 31.09 25.13C29.24 27.55 28.08 29.05 27.62 29.66C26.59 30.99 25.94 32.57 25.74 34.24C25.66 34.89 25.84 33.41 25.79 33.84C25.5 36.19 26.1 38.56 27.47 40.5C27.54 40.6 25.59 37.85 25.66 37.94C27.08 39.94 27.83 42.34 27.81 44.79C27.79 46.3 27.8 45.94 27.78 47.17C27.75 50.58 26.84 53.92 25.14 56.87C24.79 57.47 23.92 58.98 22.53 61.4C21.93 60.77 21.55 60.39 21.4 60.23C19.44 58.21 17.98 55.76 17.14 53.07C16.95 52.49 16.49 51.02 15.74 48.67C14.76 51.49 14.14 53.25 13.9 53.95C12.77 57.18 12.71 60.69 13.73 63.96C13.99 64.77 13.51 63.25 13.85 64.33C14.6 66.71 14.48 69.28 13.51 71.58C12.91 73.02 12.92 72.98 12.4 74.22C11.18 77.13 11.19 80.4 12.41 83.29C12.86 84.34 12.17 82.72 12.59 83.7C13.92 86.84 16.23 89.46 19.17 91.17C20.01 91.65 17.81 90.38 18.61 90.84C21.74 92.66 25.15 93.96 28.7 94.69C29.57 94.87 25.58 94.05 26.14 94.16C30.68 95.1 35.37 94.96 39.85 93.76C41.13 93.41 38.74 94.06 40.16 93.67Z"}}),r("path",{attrs:{id:"fm-fire-mid-part3",fill:"#ffd91e",d:"M44.2 85.12C46.29 82.7 46.95 79.36 45.94 76.33C45.64 75.43 46.28 77.35 45.96 76.38C45.02 73.56 45.69 70.45 47.7 68.27C47.83 68.13 48.16 67.78 48.68 67.22C48.23 67.16 47.95 67.13 47.84 67.12C45.37 66.82 42.87 67.33 40.72 68.57C40.34 68.8 41.59 68.07 40.98 68.42C39.71 69.16 38.09 68.93 37.08 67.85C36.85 67.61 37.69 68.51 37.42 68.21C36.46 67.2 35.83 65.92 35.6 64.54C35.25 62.39 34.38 57.04 32.98 48.47C31.46 57.32 30.52 62.85 30.14 65.06C29.79 67.12 28.46 68.89 26.57 69.79C26.05 70.04 26.86 69.65 26.17 69.98C24.79 70.64 23.17 70.55 21.86 69.73C21.48 69.49 20.52 68.89 18.97 67.93C18.28 70.9 17.84 72.76 17.67 73.5C17.15 75.7 17.64 78.02 19 79.83C19.71 80.77 19.97 81.13 20.76 82.17C21.88 83.66 23.64 84.54 25.5 84.54C26.64 84.54 27.27 84.54 28.46 84.54C30.19 84.54 31.84 85.25 33.02 86.51C33.3 86.81 32.5 85.96 32.84 86.32C33.84 87.39 35.27 87.93 36.73 87.8C37.84 87.7 37.51 87.73 38.28 87.66C40.87 87.43 43.26 86.21 44.96 84.24C45.48 83.64 43.82 85.56 44.2 85.12Z"}}),r("path",{attrs:{id:"fm-fire-mid-part4",fill:"#fffa60",d:"M42.12 82.7C42.25 82.34 42.33 81.98 42.38 81.6C42.46 80.93 42.39 81.45 42.42 81.28C42.42 81.28 43.26 75.23 43.26 75.23C43.32 74.89 43.46 74.03 43.68 72.66C43.66 72.67 43.65 72.67 43.64 72.67C42.22 73.32 41 74.32 40.09 75.59C39.9 75.85 40.35 75.22 40.07 75.61C39.58 76.28 38.6 76.35 38.03 75.75C37.88 75.6 38.41 76.15 38.23 75.96C37.61 75.31 37.12 74.55 36.8 73.71C36.24 72.21 34.81 68.47 32.54 62.47C32.81 67.11 32.98 70 33.05 71.16C33.13 72.51 32.84 73.86 32.2 75.06C32.04 75.37 32.99 73.58 32.94 73.67C32 75.43 30.04 76.4 28.07 76.08C27.83 76.04 27.25 75.94 26.31 75.79C25.86 77.67 25.58 78.85 25.47 79.32C25.14 80.71 25.45 82.18 26.32 83.31C26.78 83.91 26.97 84.16 27.47 84.82C28.22 85.79 29.24 86.51 30.41 86.88C30.8 87.01 30.33 86.86 30.76 86.99C31.82 87.33 32.93 87.47 34.04 87.39C34.77 87.35 35.49 87.3 36.28 87.24C37.2 87.18 38.11 86.94 38.94 86.53C39.39 86.31 38.74 86.63 39 86.5C40.38 85.81 41.45 84.61 41.96 83.16C42.03 82.96 41.93 83.25 42.12 82.7Z"}}),r("path",{attrs:{id:"fm-fire-small-part1",fill:"#fd5215",d:"M65.58 75.75C67.46 68.89 67.43 61.65 65.49 54.81C64.37 50.85 64.33 50.74 63.31 47.1C61.04 39.1 57.47 31.52 52.75 24.67C50.58 21.51 45.14 13.62 36.45 1C36.3 8.2 36.21 12.71 36.17 14.51C36.04 20.84 34.91 27.11 32.82 33.09C31.83 35.95 31.38 37.23 30.24 40.52C28.67 45 25.84 48.94 22.09 51.86C21.31 52.47 23.22 50.98 22.07 51.88C19.77 53.66 16.56 53.65 14.28 51.84C13.64 51.33 14.76 52.23 13.91 51.55C12.07 50.1 10.81 48.04 10.33 45.74C10.12 44.69 9.58 42.07 8.71 37.87C5.82 46.23 4.02 51.45 3.3 53.54C0.29 62.22 0.16 71.64 2.93 80.41C3.85 83.31 2.08 77.72 2.93 80.42C5.77 89.4 13.14 96.22 22.32 98.34C25.34 99.04 21.78 98.22 25.35 99.04C33.18 100.85 41.38 100.1 48.76 96.91C51.26 95.82 48.4 97.06 51.15 95.87C57.55 93.09 62.35 87.56 64.19 80.83C65.04 77.72 64.72 78.9 65.58 75.75Z"}}),r("path",{attrs:{id:"fm-fire-small-part2",fill:"#ffaf18",d:"M55.31 83.63C56.54 79.15 56.85 74.46 56.24 69.86C55.81 66.65 55.58 64.87 55.18 61.88C54.47 56.53 52.92 51.33 50.61 46.45C49.64 44.42 47.22 39.33 43.34 31.19C41.88 40.73 40.97 46.69 40.61 49.07C40.04 52.75 39.06 56.36 37.67 59.82C37.23 60.92 37.73 59.68 37.22 60.95C36.1 63.75 33.9 65.99 31.12 67.16C30.47 67.44 31.76 66.89 30.83 67.28C29.06 68.03 27 67.6 25.67 66.2C25.35 65.86 26.11 66.66 25.66 66.19C24.6 65.07 23.78 63.73 23.26 62.27C23.07 61.72 22.59 60.36 21.83 58.18C18.75 64.33 16.83 68.17 16.06 69.7C13.43 74.96 12.94 81.04 14.71 86.65C15.31 88.53 14.16 84.9 14.72 86.65C16.55 92.48 21.33 96.89 27.28 98.27C29.23 98.72 26.93 98.19 29.24 98.72C34.31 99.9 39.63 99.41 44.41 97.34C46.03 96.63 44.18 97.44 45.96 96.67C50.11 94.87 53.21 91.28 54.41 86.92C54.96 84.9 54.75 85.67 55.31 83.63Z"}}),r("path",{attrs:{id:"fm-fire-small-part3",fill:"#ffd91e",d:"M50.63 85.2C51.19 83.69 51.38 82.08 51.18 80.48C50.95 78.59 50.66 76.18 50.45 74.5C50.17 72.2 49.62 69.94 48.81 67.77C48.24 66.24 46.82 62.43 44.54 56.34L41.49 70.9C40.49 73.37 39.86 74.92 39.61 75.53C39.15 76.67 38.4 77.66 37.42 78.4C36.68 78.96 35.69 79.71 34.88 80.33C34.15 80.88 33.21 81.11 32.3 80.93C31.56 80.79 30.64 80.62 29.86 80.47C29.09 80.33 28.44 79.79 28.15 79.05C27.95 78.54 27.44 77.24 26.63 75.16C25.5 78.28 24.8 80.22 24.52 81C23.37 84.2 23.32 87.69 24.38 90.93C24.74 92.01 24.07 89.96 24.4 90.97C25.49 94.29 28.25 96.79 31.67 97.55C32.88 97.82 31.84 97.59 33.25 97.9C36.13 98.54 39.14 98.04 41.66 96.51C42.9 95.76 43.14 95.62 44.49 94.8C46.66 93.48 48.32 91.47 49.2 89.09C49.66 87.85 50.08 86.71 50.63 85.2Z"}}),r("path",{attrs:{id:"fm-fire-small-part4",fill:"#fffa60",d:"M46.15 90.13C46.49 89.31 46.61 88.41 46.49 87.53C46.35 86.48 46.16 85.13 46.03 84.2C45.86 82.92 45.52 81.67 45.03 80.48C44.67 79.63 43.79 77.51 42.37 74.1L40.48 82.2C39.85 83.58 39.46 84.45 39.31 84.79C39.03 85.41 38.58 85.94 38.02 86.33C37.55 86.65 36.84 87.13 36.33 87.48C35.9 87.77 35.38 87.88 34.87 87.79C34.4 87.71 33.69 87.59 33.19 87.51C32.76 87.44 32.39 87.15 32.21 86.74C32.09 86.45 31.77 85.73 31.26 84.57C30.56 86.32 30.12 87.42 29.94 87.85C29.24 89.6 29.21 91.54 29.86 93.3C30.08 93.91 29.69 92.83 29.89 93.4C30.57 95.23 32.14 96.57 34.05 96.95C34.87 97.12 34.71 97.08 35.65 97.27C37.27 97.59 38.95 97.34 40.39 96.55C41.2 96.11 41.63 95.88 42.5 95.4C43.74 94.73 44.71 93.65 45.25 92.34C45.53 91.65 45.81 90.98 46.15 90.13Z"}})],1)},Kt=[],$t={name:"fm-objs-def",props:{},mounted:function(){},data:function(){return{}},computed:{},methods:{}},te=$t,ee=(r("4b57"),Object(b["a"])(te,Qt,Kt,!1,null,null,null)),re=ee.exports,ae=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",{attrs:{transform:t.gTransform}},[""!==t.roleParam?r("g",[r("circle",{attrs:{cx:t.frontSight.x,cy:t.frontSight.y,r:t.frontSight.r,stroke:"black","stroke-width":"1","fill-opacity":"0"}}),r("circle",{attrs:{cx:t.frontSight.x,cy:t.frontSight.y,r:"1",fill:"black","stroke-width":"0"}}),r("line",{attrs:{x1:t.frontSight.x,y1:t.frontSight.y,x2:t.linePoint2.x,y2:t.linePoint2.y,"stroke-width":"1",stroke:"#6ae4ee","stroke-opacity":"0.5"}})]):t._e(),r("path",{attrs:{d:t.aimD,stroke:"#6ae4ee","stroke-opacity":"0.5","stroke-width":"1","fill-opacity":"0"},on:{touchstart:function(e){return e.stopPropagation(),e.preventDefault(),t.aimStartT(e)},touchmove:function(e){return e.stopPropagation(),e.preventDefault(),t.aimMoveT(e)},touchcancel:function(e){return e.stopPropagation(),e.preventDefault(),t.aimEnd(e)},touchend:function(e){return e.stopPropagation(),e.preventDefault(),t.aimEnd(e)},mousedown:function(e){return e.stopPropagation(),t.aimStart(e)},mouseup:function(e){return e.stopPropagation(),t.aimEnd(e)},mouseleave:function(e){return t.emitAim("leave")},mousemove:function(e){return e.stopPropagation(),t.aimMove(e)}}})])},ie=[],ne={name:"fm-aim-area",props:{svgTranslate:{type:Object,default:function(){return{x:0,y:0}}},maxPower:{type:Number,default:100},maxAngle:{type:Number,default:80,validator:function(t){return t<90&&t>=0}},roleParam:{type:String,default:""},svgPos:{type:Object,default:function(){return{top:0,left:0}}}},mounted:function(){},watch:{roleParam:function(){this.maxPowerR=this.minPowerR+this.maxPower,this.calculatePoints()}},data:function(){return{minPowerR:80,maxPowerR:0,points:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],frontSight:{r:10,x:0,y:0,isMoving:!1,clientX:0,clientY:0,startX:0,startY:0},nextEmitTimmer:0}},computed:{gTransform:function(){return"translate("+this.svgTranslate.x+","+this.svgTranslate.y+")"},aimD:function(){return 0===this.maxAngle?"":"M "+this.points[0].x+" "+this.points[0].y+" L "+this.points[1].x+" "+this.points[1].y+" A "+this.maxPowerR+" "+this.maxPowerR+" 0 0 1 "+this.points[2].x+" "+this.points[2].y+" L "+this.points[3].x+" "+this.points[3].y+" A "+this.minPowerR+" "+this.minPowerR+" 0 0 0 "+this.points[0].x+" "+this.points[0].y+" Z"},linePoint2:function(){return{x:0,y:this.maxPowerR}}},methods:{calculatePoints:function(){var t=this.maxAngle/180*Math.PI,e=100*Math.cos(t),r=100*Math.sin(t);this.points[0].x=Math.round(this.minPowerR*e)/100,this.points[0].y=this.maxPowerR-Math.round(this.minPowerR*r)/100,this.points[3].x=this.points[0].x,this.points[3].y=2*this.maxPowerR-this.points[0].y,this.points[1].x=Math.round(this.maxPowerR*e)/100,this.points[1].y=this.maxPowerR-Math.round(this.maxPowerR*r)/100,this.points[2].x=this.points[1].x,this.points[2].y=2*this.maxPowerR-this.points[1].y,this.frontSight.x=(this.maxPowerR+this.minPowerR)/2,this.frontSight.y=this.maxPowerR,this.$emit("report-aimarea",{points:this.points,minR:this.minPowerR,maxR:this.maxPowerR})},aimStartT:function(t){this.aimStart(t.changedTouches[0])},aimStart:function(t){this.frontSight.x=(t.clientX-this.svgPos.left)*this.svgPos.zoomRate-this.svgTranslate.x,this.frontSight.y=(t.clientY-this.svgPos.top)*this.svgPos.zoomRate-this.svgTranslate.y,this.frontSight.isMoving=!0,this.frontSight.startX=this.frontSight.x,this.frontSight.startY=this.frontSight.y,this.frontSight.clientX=t.clientX,this.frontSight.clientY=t.clientY},aimEnd:function(t){this.frontSight.isMoving=!1,0===arguments.length&&(t=!0),t&&this.emitAim()},aimMoveT:function(t){this.aimMove(t.changedTouches[0])},aimMove:function(t){if(this.frontSight.isMoving){var e={radian:0,angle:0,power:0},r=this.frontSight.startX+t.clientX-this.frontSight.clientX,a=this.frontSight.startY+t.clientY-this.frontSight.clientY,i=this.maxPowerR-a;e.power=Math.sqrt(i*i+r*r),e.power>this.maxPowerR||e.power<this.minPowerR?this.aimEnd(!1):(e.radian=Math.atan(i/r),e.angle=180*e.radian/Math.PI,e.angle>this.maxAngle||e.angle<-this.maxAngle?this.aimEnd(!1):(e.power-=this.minPowerR,this.frontSight.x=r,this.frontSight.y=a,this.emitAim("",e)))}},emitAim:function(t,e){if(t=t||"timer",2===arguments.length)return e.source=t,void this.$emit("change-aim",e);var r=this.maxPowerR-this.frontSight.y,a=Math.atan(r/this.frontSight.x);this.$emit("change-aim",{radian:a,angle:180*a/Math.PI,power:Math.sqrt(r*r+this.frontSight.x*this.frontSight.x)-this.minPowerR,source:t||"timer"})}}},se=ne,oe=Object(b["a"])(se,ae,ie,!1,null,"2f32968e",null),le=oe.exports,fe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",{attrs:{transform:t.rainDropTransform}},[r("path",{attrs:{d:"M1.35 15 A 10 10, 0, 1, 0, 18.65 15 L 10 0 Z",fill:"url(#rain-gradient)","fill-opacity":"0.81","stroke-opacity":"0.81",stroke:"#18c0f2",transform:t.rainDropRotate}})])},Ae=[],ue={name:"wd-drop",props:{dropData:{type:Object,required:!0},dropTimmer:{type:Number,required:!0},gameConfigure:{type:Object,required:!1}},mounted:function(){},watch:{dropTimmer:function(t,e){this.game===o.water?this.gameWaterTimer(t):this.game===o.fire&&this.gameFireTimer()}},computed:{rainDropRotate:function(){return 0===this.rotate?"":"rotate("+this.rotate+")"},rainDropTransform:function(){var t="translate("+this.x+", "+this.y+")";return 1!==this.dropSize&&(t+=",scale("+this.dropSize+")"),t}},data:function(){var t={game:h.state.game.currentGameName,rotate:0};return t.game===o.water?(t.x=this.dropData.x,t.y=-20,t.dropSize=this.dropData.size,t.startTimer=this.dropTimmer):t.game===o.fire&&(t.startPtInd=0,t.counter=0,t.x=this.dropData.path[0].x,t.y=this.dropData.path[0].y,t.rotate=this.dropData.path[0].rotate,t.dropSize=this.gameConfigure.dropSize),t},methods:{gameWaterTimer:function(t){var e=t-this.startTimer;this.y=1*e-20+.005*e*e,this.x<this.gameConfigure.cupRight&&this.x>this.gameConfigure.cupLeft-18&&this.y>this.gameConfigure.cupTop-10&&this.y<this.gameConfigure.cupTop+5&&this.$emit("self-distroyed",{inCup:!0,id:this.dropData.id,size:this.dropData.size}),this.y>=this.gameConfigure.groundLevel&&this.$emit("self-distroyed",{inCup:!1,id:this.dropData.id,windowInd:this.dropData.windowInd})},gameFireTimer:function(t){var e=0;return this.counter++,this.startPtInd===this.dropData.path.length-1?(h.addFire(this.dropData.windowInd,-this.dropSize),void this.$emit("self-distroyed",{id:this.dropData.id})):this.counter<this.gameConfigure.timeGranuleDensity?(e=this.dropData.path[this.startPtInd],this.x+=e.granuleX,void(this.y+=e.granuleY)):(this.startPtInd++,this.counter=0,e=this.dropData.path[this.startPtInd],this.x=e.x,this.y=e.y,void(void 0!==e.rotate&&(this.rotate=e.rotate)))}}},he=ue,me=Object(b["a"])(he,fe,Ae,!1,null,"0ae8cba5",null),de=me.exports,ce={name:"fireman-world",components:{"fm-building":Xt,"fm-objs-def":re,"role-piggy":_,"role-horse":V,"role-rabbit":q,"role-fox":tt,"fireman-giraffe":Bt,"fm-aim-area":le,"water-drop":de,"wd-sound":mt},props:{},mounted:function(){var t=this;this.svgRoot.h=this.$el.offsetHeight,this.$nextTick((function(){t.interval=setInterval(t.gameInterval,12);var e=t.$refs.svgRoot.getBoundingClientRect();t.svgRoot.top=e.top,t.svgRoot.left=e.left,t.svgRoot.zoomRate=800/t.svgRoot.h;var r=640/(e.right-e.left);t.svgRoot.zoomRate<r&&(t.svgRoot.zoomRate=r),A.$on("all-fire-cleaned",t.gameFinish)}))},beforeDestroy:function(){clearInterval(this.interval),A.$off("all-fire-cleaned",this.gameFinish)},data:function(){return{player:h.state.player,interval:null,fireTimmer:{stepL0:0,stepL1:0,counter:0,randSeed:0},svgRoot:{h:s.worldSize.fireH,top:0,left:0,zoomRate:1},aimArea:{R:0,maxPower:0,maxAngle:0,nozzleRoot:{x:0,y:0}},waterDrops:[],currentAim:{radian:0,angle:0,speed:100},dropId:1,building:{left:440,top:100},dropSize:1,giraffe:h.state.giraffe}},computed:{dropConfigure:function(){return{timeGranuleDensity:s.firemanSpeed.timeGranuleDensity,dropSize:this.dropSize}},buildingTranslate:function(){return"translate("+this.building.left+", "+this.building.top+")"},viewBoxString:function(){return"0 0 640 800"},worldStyle:function(){return{"max-height":s.worldSize.fireH+"px"}},groundY:function(){return s.worldSize.fmH-40},giraffeTransform:function(){return"translate(-10, "+(s.worldSize.fmH-440)+"), scale(1.1)"},playerTransform:function(){var t=3===this.giraffe.status?400:120;return"translate("+s.firemanPos.x+", "+(s.worldSize.fmH-t)+"), scale("+s.firemanPos.scale+")"},aimAreaTranslate:function(){var t=3===this.giraffe.status?400:120,e=s.firemanPos.x+this.aimArea.nozzleRoot.x*s.firemanPos.scale,r=s.worldSize.fmH-t-(this.aimArea.R+this.aimArea.nozzleRoot.y)*s.firemanPos.scale;return{x:e,y:r}}},methods:{gameFinish:function(){this.$emit("game-over")},gameInterval:function(){this.fireTimmer.stepL0++,this.fireTimmer.counter++,this.fireTimmer.counter>=60&&(this.fireTimmer.counter=0,this.fireTimmer.stepL1++,this.fireTimmer.randSeed=Math.floor(1e4*Math.random()),this.fireTimmer.stepL1>s.giraffeComeAfter&&h.createGiraffe(this.fireTimmer.randSeed))},initFireman:function(t){this.aimArea.maxPower=t.maxPower,this.aimArea.maxAngle=t.maxAngle,this.aimArea.nozzleRoot.x=t.nozzleRoot.x,this.aimArea.nozzleRoot.y=t.nozzleRoot.y,this.dropSize=t.maxPower/100},initArmArea:function(t){this.aimArea.R=t.maxR},setAim:function(t){this.currentAim.radian=t.radian,this.currentAim.angle=t.angle,this.currentAim.speed=(t.power+s.firemanSpeed.base)*s.firemanSpeed.speedToPixel},sprayWater:function(){if(this.checkWaterAmount()){var t={id:this.dropId++,path:[{x:this.aimAreaTranslate.x,y:this.aimAreaTranslate.y+this.aimArea.R,granuleX:0,granuleY:0}],windowInd:-1},e=s.firemanSpeed.timeGranule,r=s.firemanSpeed.g,a=this.currentAim.speed*Math.cos(this.currentAim.radian),i=-this.currentAim.speed*Math.sin(this.currentAim.radian),n=0,o=t.path[0],l=o,f=null;while(o.x<s.worldSize.w+200&&o.y<s.worldSize.fmH){if(n++>=100)break;if(o={x:l.x,y:l.y,granuleX:0,granuleY:0},t.path.push(o),o.x+=a*e,o.y+=i*e+r*e*e*.5,l.granuleX=(o.x-l.x)/s.firemanSpeed.timeGranuleDensity,l.granuleY=(o.y-l.y)/s.firemanSpeed.timeGranuleDensity,l.rotate=Math.round(Math.atan((o.y-l.y)/(o.x-l.x))/Math.PI*180)-90,i+=r*e,f=this.checkHitWindow(o.x,o.y,l.x,l.y),f.isIntersect){t.windowInd=f.windowInd,o.x=f.x,o.y=f.y;break}l=o}n<100&&(this.waterDrops.push(t),h.addWater(-this.dropSize)),t=null}},getPath:function(t){var e="";return t.path.forEach((function(t){e+=""===e?"M ":"L ",e+=t.x+" "+t.y})),e},checkHitWindow:function(t,e,r,a){if(t<this.building.left)return{isIntersect:!1};if(e<this.building.top)return{isIntersect:!1};t-=this.building.left,e-=this.building.top,r-=this.building.left,a-=this.building.top;var i=h.checkWaterHitWindow(r,a,t,e,!0);return i.x+=this.building.left,i.y+=this.building.top,i},waterDistroyed:function(t){var e=this;this.waterDrops.some((function(r,a){return r.id===t.id&&(e.waterDrops.splice(a,1),!0)})),this.checkWaterAmount()},checkWaterAmount:function(){var t=this;return 0!==this.player.waterAmount||!!h.checkTotalFire()&&(this.$nextTick((function(){h.checkTotalFire()&&(confirm("NO WATER! click OK to refuel, or cancel.")?t.$emit("refuel-tank"):t.$emit("cancel-game"))})),!1)}}},pe=ce,Ce=(r("18c3"),Object(b["a"])(pe,st,ot,!1,null,"34c5bd84",null)),ge=Ce.exports,we=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"water-drop-world"},[r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:t.viewBoxString,width:"100%",preserveAspectRatio:"xMinYMin meet"}},[r("defs",[r("radialGradient",{attrs:{id:"rain-gradient",cx:"0.5",cy:"0.7",r:"0.7",fx:"0.5",fy:"0.7"}},[r("stop",{attrs:{offset:"0%","stop-color":"#18c0f2"}}),r("stop",{attrs:{offset:"20%","stop-color":"#18c0f2"}}),r("stop",{attrs:{offset:"100%","stop-color":"white"}})],1)],1),r("g",{attrs:{transform:t.piggyTransform}},[r(t.choosedRoleName,{tag:"component",attrs:{"player-name":t.player.name,"is-moving":0!==t.piggyPos.direction,"water-amount":t.player.waterAmount},on:{"report-cup":t.initCup}})],1),t._l(t.allRainDrops,(function(e,a){return r("rain-drop",{key:e.id,attrs:{"drop-data":e,"drop-timmer":t.dropTimmer,"game-configure":t.gameStatus},on:{"self-distroyed":function(r){return t.distroyRainDrop(a,e.id,r)}}})})),r("rect",{attrs:{x:"0",y:"600",width:"640",height:"50",fill:"#611f1f","stroke-width":"0"}})],2),r("div",{staticClass:"buttons"},[r("button",{on:{mousedown:function(e){return t.moveRole(-1)},mouseup:function(e){return t.moveRole(0)},touchstart:function(e){return t.moveRole(-1)},touchend:function(e){return t.moveRole(0,-1)}}},[t._v(" < ")]),r("span",[t._v(t._s(t.player.name))]),r("button",{on:{mousedown:function(e){return t.moveRole(1)},mouseup:function(e){return t.moveRole(0)},touchstart:function(e){return t.moveRole(1)},touchend:function(e){return t.moveRole(0,1)}}},[t._v(" > ")])]),r("wd-sound",{attrs:{"rain-drop-id":t.gameConfigure.lastDropId}})],1)},ye=[],xe=[{comp:V,tag:"role-horse"},{comp:q,tag:"role-rabbit"},{comp:tt,tag:"role-fox"},{comp:_,tag:"role-piggy"}],ve={name:"water-drop-world",props:{},components:{"wd-sound":mt,"rain-drop":de,"role-piggy":_,"role-horse":V,"role-rabbit":q,"role-fox":tt},mounted:function(){this.createRandomDrop(),this.interval=setInterval(this.gameInterval,12),window.addEventListener("keyup",this.handlerKey),window.addEventListener("keydown",this.handlerKey),this.gameConfigure.dropCounter.total=0,this.gameConfigure.dropCounter.cup=0},beforeDestroy:function(){clearInterval(this.interval),window.removeEventListener("keyup",this.handlerKey),window.removeEventListener("keydown",this.handlerKey)},data:function(){return{player:h.state.player,counter:0,allRainDrops:[],piggyPos:{x:0,direction:0},dropTimmer:0,interval:null,gameConfigure:{cupTop:470,cupInitLeft:0,cupWidth:86,cupVolume:100,groundLevel:600,roleTop:400,lastDropId:0,dropCounter:{total:0,cup:0}}}},computed:{choosedRoleName:function(){var t=this;return""!==this.player.role||xe.some((function(e){return!!e.comp.methods.checkPlayerName(t.player.name)&&(h.setPlayer({role:e.tag}),!0)})),this.player.role},gameStatus:function(){return{cupLeft:this.piggyPos.x+this.gameConfigure.cupInitLeft,cupRight:this.piggyPos.x+this.gameConfigure.cupInitLeft+this.gameConfigure.cupWidth,cupTop:this.gameConfigure.cupTop,groundLevel:this.gameConfigure.groundLevel}},viewBoxString:function(){return"0 0 "+s.worldSize.w+" "+s.worldSize.h},piggyTransform:function(){return"translate("+this.piggyPos.x+", "+this.gameConfigure.roleTop+")"}},methods:{initCup:function(t){this.gameConfigure.cupLeft=t.left,this.gameConfigure.cupWidth=t.width,this.gameConfigure.cupInitLeft=this.gameConfigure.cupLeft,this.gameConfigure.cupRight=t.width+this.gameConfigure.cupLeft,this.gameConfigure.cupTop=t.top+this.gameConfigure.roleTop,h.setPlayer({cupVolume:t.volume})},gameInterval:function(){this.dropTimmer++,this.gameActionRain(),this.gameActionMoveRole()},gameActionMoveRole:function(){var t;0!==this.piggyPos.direction&&(this.piggyPos.direction>0?(this.piggyPos.x+=s.speed,t=s.worldSize.w-this.gameConfigure.cupWidth,this.piggyPos.x>t&&(this.piggyPos.x=t)):(this.piggyPos.x-=s.speed,t=-this.gameConfigure.cupInitLeft,this.piggyPos.x<t&&(this.piggyPos.x=t)))},gameActionRain:function(){if(!(this.allRainDrops.length>s.maxDrops)){this.dropTimmer++;var t=Math.floor(100*Math.random());if(!(this.allRainDrops.length>s.minDrops&&t>s.rainProbability)){t=Math.floor(t/s.rainProbability),t=t<.8?1:t<.95?2:3;for(var e=0;e<t;e++)this.createRandomDrop()}}},createRandomDrop:function(){this.counter++;var t={id:this.counter,size:1,x:50},e=Math.random();t.x+=Math.floor(540*e),e*=1e3,e-=Math.floor(e),t.size-=Math.floor(30*e)/100,this.allRainDrops.push(t)},distroyRainDrop:function(t,e,r){var a=this.allRainDrops.length>t?this.allRainDrops[t]:null;if(null===a){if(t=this.allRainDrops.length-1,t<0)return;a=this.allRainDrops[t]}while(a.id!==e){if(t--,t<0)return;a=this.allRainDrops[t]}this.allRainDrops.splice(t,1),this.gotWater(r)},gotWater:function(t){this.gameConfigure.dropCounter.total++,t.inCup&&(this.gameConfigure.dropCounter.cup++,this.gameConfigure.lastDropId=t.id,h.addWater(t.size)>0&&this.finishGame())},moveRole:function(t,e){e=e||0,0===t&&0!==e&&this.piggyPos.direction!==e||(this.piggyPos.direction=t)},handlerKey:function(t){"ArrowLeft"!==t.key&&"ArrowRight"!==t.key||("keyup"!==t.type?("ArrowLeft"===t.key?this.moveRole(-1):this.moveRole(1),t.stopPropagation()):this.moveRole(0))},finishGame:function(){this.$emit("game-over",{totalDrops:this.gameConfigure.dropCounter.total,cupDrops:this.gameConfigure.dropCounter.cup})}}},be=ve,Se=(r("62b2"),Object(b["a"])(be,we,ye,!1,null,"6214e179",null)),ke=Se.exports,ze=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"game-victory"},[r("h1",{staticClass:"title"},[t._v("VICTORY !!!")]),r("div",[r("b",[t._v(t._s(t.game.totalSeconds))]),r("span",[t._v("Seconds")])]),r("div",[r("b",[t._v(t._s(Math.round(10*t.game.totalSprayWaterHitFire)))]),r("span",[t._v("Fire")])]),r("div",[r("b",[t._v(t._s(t.game.totalSprayWater))]),r("span",[t._v("Spray")])]),r("div",[r("b",[t._v(t._s(t.rate)+"%")]),r("span",[t._v("Rate")])]),r("h2",[t._v("SCORE")]),r("h2",[t._v(t._s(t.score))]),r("p",[r("button",{on:{click:t.restartGame}},[t._v("again")])])])},Re=[],Te={name:"game-victory",components:{},props:{},data:function(){return{game:h.state.game,player:h.state.player}},mounted:function(){},watch:{},computed:{rate:function(){return Math.round(1e4*this.game.totalSprayWaterHit/this.game.totalSprayWater)/100},score:function(){var t=150-this.game.totalSeconds;return t=t<0?0:t,t+=10*this.game.totalSprayWaterHitFire,t*=this.rate,Math.round(t)}},methods:{restartGame:function(){h.restartGame()}}},Me=Te,Pe=(r("e902"),Object(b["a"])(Me,ze,Re,!1,null,"fa8b9936",null)),De=Pe.exports,We={name:"App",props:{"a-text":{default:1}},components:{"water-drop-world":ke,"fireman-world":ge,"water-drop-welcome":nt,"game-victory":De},data:function(){return{game:h.state.game,gameResult:{cupDrops:0,totalDrops:0}}},computed:{isGameVictory:function(){return this.game.currentGameName===o._victory},isGameOfWater:function(){return this.game.currentGameName===o.water},isGameOfFire:function(){return this.game.currentGameName===o.fire}},methods:{gameOverWater:function(t){if(this.game.continueFireGame)return h.refreshWindowRand(),void h.gameStarted(o.fire,!1,!1);this.gameResult.cupDrops=t.cupDrops,this.gameResult.totalDrops=t.totalDrops,this.$refs.soundGoodJob.play(),h.setContinueFireGame(!1),h.gameOver()},gameOverFire:function(t){this.$refs.soundGoodJob.play(),h.setContinueFireGame(!1),console.log(t),h.gameStarted(o._victory,!1,!1)},refuelWater:function(){h.setContinueFireGame(!0),h.gameStarted(o.water,!1,!0)},restartGame:function(){h.setContinueFireGame(!1)}}},Le=We,Fe=(r("034f"),Object(b["a"])(Le,i,n,!1,null,null,null)),Ee=Fe.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(Ee)}}).$mount("#app")},"62b2":function(t,e,r){"use strict";var a=r("54e3"),i=r.n(a);i.a},"6d17":function(t,e,r){},"85ec":function(t,e,r){},ae2a:function(t,e,r){},b21e:function(t,e,r){},b9b9:function(t,e,r){},ba6d:function(t,e,r){},cecb:function(t,e,r){"use strict";var a=r("29b4"),i=r.n(a);i.a},d5d3:function(t,e,r){"use strict";var a=r("ae2a"),i=r.n(a);i.a},e902:function(t,e,r){"use strict";var a=r("ba6d"),i=r.n(a);i.a},f688:function(t,e,r){"use strict";var a=r("3cbe"),i=r.n(a);i.a}});
//# sourceMappingURL=app.84167033.js.map